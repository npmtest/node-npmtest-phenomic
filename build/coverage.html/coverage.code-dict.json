{"/home/travis/build/npmtest/node-npmtest-phenomic/test.js":"/* istanbul instrument in package npmtest_phenomic */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - post-init\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - post-init\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-phenomic/lib.npmtest_phenomic.js":"/* istanbul instrument in package npmtest_phenomic */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_phenomic = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_phenomic = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-phenomic/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-phenomic && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_phenomic */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_phenomic\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // post-init\n    // run browser js-env code - post-init\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_phenomic.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_phenomic.rollup.js'] =\n            local.assetsDict['/assets.npmtest_phenomic.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_phenomic.__dirname + '/lib.npmtest_phenomic.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PageContainer = require(\"./components/PageContainer\");\n\nObject.defineProperty(exports, \"PageContainer\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_PageContainer).default;\n  }\n});\n\nvar _BodyContainer = require(\"./components/BodyContainer\");\n\nObject.defineProperty(exports, \"BodyContainer\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_BodyContainer).default;\n  }\n});\n\nvar _Link = require(\"./components/Link\");\n\nObject.defineProperty(exports, \"Link\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Link).default;\n  }\n});\n\nvar _urlJoin = require(\"url-join\");\n\nObject.defineProperty(exports, \"joinUri\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_urlJoin).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar phenomicLoader = exports.phenomicLoader = \"phenomic/lib/loader\";","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/components/PageContainer/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _pages = require(\"../../redux/modules/pages\");\n\nvar pageActions = _interopRequireWildcard(_pages);\n\nvar _component = require(\"./component\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// eslint-disable-next-line import/no-namespace\nexports.default = (0, _reactRedux.connect)(function (_ref) {\n  var pages = _ref.pages;\n\n  return { pages: pages };\n}, function (dispatch) {\n  return {\n    getPage: function getPage() {\n      return dispatch(pageActions.get.apply(pageActions, arguments));\n    },\n    setPageNotFound: function setPageNotFound() {\n      return dispatch(pageActions.setNotFound.apply(pageActions, arguments));\n    }\n  };\n})(_component2.default);","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/redux/modules/pages.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ERROR = exports.FORGET = exports.SET_TYPE = exports.SET = exports.GET = exports.NOOP = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = reducer;\nexports.get = get;\nexports.refresh = refresh;\nexports.setNotFound = setNotFound;\n\nvar _simpleJsonFetch = require(\"simple-json-fetch\");\n\nvar _simpleJsonFetch2 = _interopRequireDefault(_simpleJsonFetch);\n\nvar _pathToUri = require(\"../../_utils/path-to-uri\");\n\nvar _pathToUri2 = _interopRequireDefault(_pathToUri);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar NOOP = exports.NOOP = \"phenomic/pages/NOOP\";\nvar GET = exports.GET = \"phenomic/pages/GET\";\nvar SET = exports.SET = \"phenomic/pages/SET\";\nvar SET_TYPE = exports.SET_TYPE = \"phenomic/pages/SET_TYPE\";\nvar FORGET = exports.FORGET = \"phenomic/pages/FORGET\";\nvar ERROR = exports.ERROR = \"phenomic/pages/ERROR\";\n\n// redux reducer\nfunction reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments[1];\n\n\n  switch (action.type) {\n    case GET:\n      return _extends({}, state, _defineProperty({}, action.page, {\n        isLoading: true\n      }));\n\n    case SET:\n      {\n        var json = action.response.json;\n\n        return _extends({}, state, _defineProperty({}, action.page, _extends({}, json, {\n          type: json.head ? json.head.layout || json.head.type : undefined\n        })));\n      }\n\n    case FORGET:\n      return _extends({}, state, _defineProperty({}, action.page, undefined));\n\n    case ERROR:\n      return _extends({}, state, _defineProperty({}, action.page, action.response ? action.response.status ? {\n        error: action.response.status,\n        errorText: action.response.statusText\n      } : {\n        error: \"Unexpected Error\",\n        errorText: action.response.message || action.response.error && action.response.error.message ||\n        // here we are just in a deseperate case\n        \"Seriously, this is weird. Please report this page.\"\n      } :\n      // no response, it's certainly a 404\n      {\n        error: 404\n      }));\n\n    default:\n      return state;\n  }\n}\n\n// redux actions\nfunction get(page, url) {\n  return {\n    types: [GET, SET, ERROR],\n    page: page,\n    promise: (0, _simpleJsonFetch2.default)((0, _pathToUri2.default)(process.env.PHENOMIC_USER_PATHNAME, url))\n  };\n}\n\nfunction refresh(page, url) {\n  return {\n    types: [NOOP, SET, ERROR],\n    page: page,\n    promise: (0, _simpleJsonFetch2.default)((0, _pathToUri2.default)(process.env.PHENOMIC_USER_PATHNAME, url))\n  };\n}\n\nfunction setNotFound(page) {\n  return {\n    type: ERROR,\n    page: page\n  };\n}","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/path-to-uri/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _path = require(\"path\");\n\n/**\n * Normalize path into uri\n * Join, replace multiple / or \\ to single /\n */\nvar pathToUri = function pathToUri() {\n  return _path.join.apply(undefined, arguments).replace(/(\\/|\\\\)+/g, \"/\");\n};\nexports.default = pathToUri;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/components/PageContainer/component.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _urlify = require(\"../../_utils/urlify\");\n\nvar _urlify2 = _interopRequireDefault(_urlify);\n\nvar _catchLinks = require(\"../../_utils/catch-links\");\n\nvar _catchLinks2 = _interopRequireDefault(_catchLinks);\n\nvar _client = require(\"../../client\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/sort-comp */\n\n\nvar logPrefix = \"phenomic: PageContainer:\";\n\n// react-router does not return leading and trailing slashes\n// so we need to normalize according to collection data\nvar splatToUrl = function splatToUrl(string) {\n  var url = \"/\" + (0, _urlify2.default)(string);\n  return url === \"//\" ? \"/\" : url;\n};\n\nfunction find(collection, pageUrl) {\n  return collection.find(function (item) {\n    return item.__url === pageUrl || item.__url === pageUrl + \"/\" || item.__resourceUrl === pageUrl;\n  });\n}\n\nfunction getBase(location) {\n  return location.protocol + \"//\" + location.host + process.env.PHENOMIC_USER_PATHNAME;\n}\n\nfunction adjustCurrentUrl(location, item, props) {\n  // adjust url (eg: missing trailing slash)\n  var currentExactPageUrl = location.href.replace(getBase(location), \"/\");\n  var itemURL = item.__url + location.search + location.hash;\n\n  if (currentExactPageUrl !== itemURL) {\n    props.logger.info(logPrefix + \" replacing by '\" + currentExactPageUrl + \"' to '\" + itemURL + \"'\");\n    if (_client.browserHistory) {\n      _client.browserHistory.replace(itemURL);\n    }\n  }\n}\n\nfunction getLayout(layout, props) {\n  if (props.layouts && props.layouts[layout]) {\n    return props.layouts[layout];\n  }\n}\n\nvar PageContainer = function (_Component) {\n  _inherits(PageContainer, _Component);\n\n  function PageContainer() {\n    _classCallCheck(this, PageContainer);\n\n    return _possibleConstructorReturn(this, (PageContainer.__proto__ || Object.getPrototypeOf(PageContainer)).apply(this, arguments));\n  }\n\n  _createClass(PageContainer, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var props = this.props;\n\n      if (!getLayout(props.defaultLayout, props)) {\n        props.logger.error(logPrefix + \" default layout \\\"\" + props.defaultLayout + \"\\\" not provided.\");\n      }\n      this.preparePage(this.props, this.context);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.catchInternalLink();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.preparePage(nextProps, this.context);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.catchInternalLink();\n    }\n  }, {\n    key: \"catchInternalLink\",\n    value: function catchInternalLink() {\n      var _this2 = this;\n\n      var layoutDOMElement = (0, _reactDom.findDOMNode)(this);\n\n      if (layoutDOMElement) {\n        var bodyContainers = Array.prototype.slice.call(layoutDOMElement.querySelectorAll(\".phenomic-BodyContainer\"));\n        if (!bodyContainers.length) {\n          bodyContainers = [layoutDOMElement];\n        }\n\n        // as soon as we listened to something, we should carefully unlisten\n        // because\n        // - it can be listening in the layoutDOMElement (a parent)\n        // - it can be listening in a <BodyContainer (a children)\n        // if we don't do this cleanup, we might listen on a parent and a children\n        // and if the parent contains other links to, let's say a parent part of\n        // the website, <Link> might be catched (but they are not supposed to)\n        if (this.cleanupInternalLinks) {\n          this.cleanupInternalLinks();\n        }\n        this.cleanupInternalLinks = (0, _catchLinks2.default)(bodyContainers, function (href) {\n          // do not catch links that are under the current base path\n          if (href.indexOf(process.env.PHENOMIC_USER_PATHNAME) === -1) {\n            // === if (!href.includes(process.env.PHENOMIC_USER_PATHNAME)) {\n            return false;\n          }\n\n          // lookup in collection by adjusting the link with our stored links\n          var pageUrl = href\n          // remove pathname as collection links don't have pathname included\n          .replace(process.env.PHENOMIC_USER_PATHNAME, \"/\");\n          if (!find(_this2.context.collection, pageUrl\n          // remove hash for the lookup as it's not necessary\n          .replace(/#.*/, \"\"))) {\n            return false;\n          }\n          if (_client.browserHistory) {\n            _client.browserHistory.push(pageUrl);\n          }\n          return true;\n        });\n      }\n    }\n  }, {\n    key: \"preparePage\",\n    value: function preparePage(props, context) {\n      var pageUrl = splatToUrl(props.params.splat);\n      if (process.env.NODE_ENV !== \"production\") {\n        props.logger.info(logPrefix + \" '\" + pageUrl + \"' rendering...\");\n      }\n\n      var item = find(context.collection, pageUrl);\n      if (typeof window !== \"undefined\" && typeof window.location !== \"undefined\" && item) {\n        adjustCurrentUrl(window.location, item, props);\n      }\n\n      var page = props.pages[pageUrl];\n      if (!page) {\n        if (item) {\n          props.getPage(item.__url, item.__dataUrl);\n        } else {\n          props.logger.error(logPrefix + \" \" + pageUrl + \" is a page not found.\");\n          props.setPageNotFound(pageUrl);\n        }\n      } else {\n        if (page.error) {\n          return;\n        }\n\n        var Layout = getLayout(page.type, props);\n        if (page.type !== undefined && !Layout) {\n          props.logger.error(logPrefix + \" Unkown page type: \\\"\" + page.type + \"\\\"\" + \"component not available in \\\"layouts\\\" property.\" + (\"Please check the \\\"layout\\\" or \\\"type\\\" of page \\\"\" + page + \"\\\" header.\"));\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var collection = this.context.collection;\n\n\n      var pageUrl = splatToUrl(props.params.splat);\n      // page url from redux store\n      var page = props.pages[pageUrl];\n      var partialPageHead = collection.find(function (pageData) {\n        return pageUrl === pageData.__url;\n      }) || {};\n\n      if (!page) {\n        if (process.env.NODE_ENV !== \"production\") {\n          props.logger.info(logPrefix + \" '\" + pageUrl + \"' no data\");\n        }\n        // return null\n      }\n      if (process.env.NODE_ENV !== \"production\") {\n        props.logger.info(logPrefix + \" '\" + pageUrl + \"'\", page);\n      }\n\n      if ((typeof page === \"undefined\" ? \"undefined\" : _typeof(page)) !== \"object\" || page.toString() !== \"[object Object]\") {\n        props.logger.info(logPrefix + \" page \" + pageUrl + \" should be an object\");\n        return null;\n      }\n      var PageLoading = getLayout(\"PageLoading\", props);\n      var PageError = getLayout(\"PageError\", props);\n      var LayoutFallback = getLayout(props.defaultLayout, props);\n      var Layout = getLayout(partialPageHead.type || partialPageHead.layout ||\n      // page.type is head type||layout too\n      page.type, props) || LayoutFallback;\n\n      if (page.error) {\n        if (!PageError) {\n          return _react2.default.createElement(\n            \"div\",\n            { style: { \"text-align\": \"center\" } },\n            _react2.default.createElement(\n              \"h1\",\n              null,\n              page.error\n            ),\n            _react2.default.createElement(\n              \"p\",\n              null,\n              page.errorText\n            )\n          );\n        }\n        return _react2.default.createElement(PageError, page);\n      } else if (page.isLoading && PageLoading && Layout && !Layout.hasLoadingState) {\n        return _react2.default.createElement(PageLoading, null);\n      } else if (Layout) {\n        return _react2.default.createElement(Layout\n        // head will be overwritten by \"page\"\n        // (since page contains a head when loaded)\n        , _extends({ head: partialPageHead\n        }, page));\n      }\n\n      if (process.env.NODE_ENV !== \"production\") {\n        return _react2.default.createElement(\n          \"div\",\n          null,\n          \"No layout can be rendered. See console for more information.\"\n        );\n      }\n\n      return null;\n    }\n  }]);\n\n  return PageContainer;\n}(_react.Component);\n\nPageContainer.contextTypes = {\n  collection: _react.PropTypes.arrayOf(_react.PropTypes.object),\n  layouts: _react.PropTypes.object\n};\nPageContainer.defaultProps = {\n  layouts: {},\n  defaultLayout: \"Page\",\n  logger: console\n};\nPageContainer.propTypes = {\n  pages: require(\"react\").PropTypes.object.isRequired,\n  params: require(\"react\").PropTypes.shape({\n    splat: require(\"react\").PropTypes.string.isRequired\n  }).isRequired,\n  layouts: require(\"react\").PropTypes.object.isRequired,\n  defaultLayout: require(\"react\").PropTypes.string.isRequired,\n  getPage: require(\"react\").PropTypes.func.isRequired,\n  setPageNotFound: require(\"react\").PropTypes.func.isRequired,\n  logger: require(\"react\").PropTypes.object.isRequired\n};\nexports.default = PageContainer;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/urlify/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fileExtensionRE = undefined;\nexports.default = urlify;\n\nvar _pathToUri = require(\"../path-to-uri\");\n\nvar _pathToUri2 = _interopRequireDefault(_pathToUri);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar fileExtensionRE = exports.fileExtensionRE = /\\.html?$/;\nfunction urlify(string) {\n  var full = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var hasExtension = string.match(fileExtensionRE);\n\n  var url = string;\n\n  // replace windows backslash by slash\n  // before playing more with the url\n  url = url.replace(/\\\\/g, \"/\");\n\n  url = url\n  // something-else.md => something-else\n  // something-else.markdown => something-else\n  .replace(/\\.(md|markdown|txt|tex|textile|t2t|asciidoc|asc|adoc)$/, \"\")\n\n  // something/index.md => something\n  // something/index.markdown => something\n  .replace(/\\bindex$/, \"\");\n\n  // if url is not and html file, we will tweak it a little bit depending on the\n  // length wanted (full url or folder url)\n  if (!hasExtension) {\n    if (full) {\n      // url without extension => folder => index.html\n      url = (0, _pathToUri2.default)(url, \"index.html\");\n    } else {\n      // url without extension => folder\n      if (url.length && !url.endsWith(\"/\")) {\n        url += \"/\";\n      }\n    }\n  }\n  // else, url with a file extension, don't touch\n\n  // no relative url\n  url = url.replace(/^\\.\\//, \"\");\n\n  return url;\n}","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/catch-links/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (elements, cb) {\n  var eventCallback = catchLinks(cb);\n  elements.map(function (el) {\n    return el.addEventListener(\"click\", eventCallback);\n  });\n\n  return function () {\n    elements.map(function (el) {\n      return el.removeEventListener(\"click\", eventCallback);\n    });\n  };\n};\n\nvar _url = require(\"url\");\n\nvar _url2 = _interopRequireDefault(_url);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar catchLinks = function catchLinks(cb) {\n  return function (ev) {\n    if (ev.altKey || ev.ctrlKey || ev.metaKey || ev.shiftKey || ev.defaultPrevented) {\n      return;\n    }\n\n    var anchor = null;\n    for (var n = ev.target; n.parentNode; n = n.parentNode) {\n      if (n.nodeName === \"A\") {\n        anchor = n;\n        break;\n      }\n    }\n    if (!anchor) {\n      return;\n    }\n    var href = anchor.getAttribute(\"href\");\n\n    // Don't intercerpt anchor\n    if (!href || href.startsWith(\"#\")) {\n      return;\n    }\n\n    var u = _url2.default.parse(href);\n\n    if (u.host && u.host !== window.location.host) {\n      return;\n    }\n\n    var finalUrl = _url2.default.resolve(window.location.pathname, u.path || \"\") + (u.hash || \"\");\n\n    if (!cb(finalUrl)) {\n      return;\n    }\n\n    ev.preventDefault();\n  };\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/client/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.browserHistory = undefined;\nexports.default = phenomic;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactRouter = require(\"react-router\");\n\nvar _createBrowserHistory = require(\"history/lib/createBrowserHistory\");\n\nvar _createBrowserHistory2 = _interopRequireDefault(_createBrowserHistory);\n\nvar _useScroll = require(\"react-router-scroll/lib/useScroll\");\n\nvar _useScroll2 = _interopRequireDefault(_useScroll);\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _ContextProvider = require(\"../components/ContextProvider\");\n\nvar _ContextProvider2 = _interopRequireDefault(_ContextProvider);\n\nvar _shouldUpdateScroll = require(\"./should-update-scroll.js\");\n\nvar _shouldUpdateScroll2 = _interopRequireDefault(_shouldUpdateScroll);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// App\nvar browserHistory = exports.browserHistory = typeof window !== \"undefined\" // just for node testing\n? (0, _reactRouter.useRouterHistory)(_createBrowserHistory2.default)({\n  // basename don't like having a trailing slash\n  // https://github.com/reactjs/react-router/issues/3184\n  basename: process.env.PHENOMIC_USER_PATHNAME.replace(/\\/$/, \"\")\n}) : null;\n\nfunction phenomic(_ref) {\n  var metadata = _ref.metadata,\n      routes = _ref.routes,\n      store = _ref.store;\n\n  var collection = typeof window !== \"undefined\" ? window.__COLLECTION__ : [];\n\n  _reactDom2.default.render(_react2.default.createElement(\n    _ContextProvider2.default,\n    {\n      collection: collection,\n      metadata: metadata\n    },\n    _react2.default.createElement(\n      _reactRedux.Provider,\n      { store: store },\n      _react2.default.createElement(_reactRouter.Router, {\n        history: browserHistory,\n        routes: routes,\n        render: (0, _reactRouter.applyRouterMiddleware)((0, _useScroll2.default)(_shouldUpdateScroll2.default))\n      })\n    )\n  ), document.getElementById(\"phenomic\"));\n}","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/components/ContextProvider/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PhenomicContext = function (_Component) {\n  _inherits(PhenomicContext, _Component);\n\n  function PhenomicContext() {\n    _classCallCheck(this, PhenomicContext);\n\n    return _possibleConstructorReturn(this, (PhenomicContext.__proto__ || Object.getPrototypeOf(PhenomicContext)).apply(this, arguments));\n  }\n\n  _createClass(PhenomicContext, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        collection: this.props.collection,\n        metadata: this.props.metadata\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.Children.only(this.props.children);\n    }\n  }]);\n\n  return PhenomicContext;\n}(_react.Component);\n\nPhenomicContext.propTypes = {\n  collection: _react.PropTypes.array,\n  metadata: _react.PropTypes.object,\n  children: _react.PropTypes.node\n};\nPhenomicContext.childContextTypes = {\n  collection: _react.PropTypes.array,\n  metadata: _react.PropTypes.object\n};\nPhenomicContext.propTypes = {\n  collection: require(\"react\").PropTypes.any.isRequired,\n  metadata: require(\"react\").PropTypes.object.isRequired,\n  children: require(\"react\").PropTypes.any\n};\nexports.default = PhenomicContext;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/client/should-update-scroll.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar lookForElement = function lookForElement(id) {\n  var element = document.getElementById(id);\n  if (element === null) {\n    var elementsSet = document.getElementsByName(id);\n    if (elementsSet.length) {\n      element = elementsSet[0];\n    }\n  }\n\n  return element;\n};\n\nvar retryTimeout = null;\nvar retryCount = 0;\nvar retryDelay = 100;\nvar retryMax = 1000; // 1000 * retryDelay = retry during 10s\n\nvar moveToHash = function moveToHash(id) {\n  var element = lookForElement(id);\n  if (element) {\n    if (element.scrollIntoViewA) {\n      element.scrollIntoView();\n    } else {\n      var coords = element.getBoundingClientRect();\n      // $FlowFixMe window\n      window.scrollTo(\n      // $FlowFixMe window\n      coords.left + window.pageXOffset,\n      // $FlowFixMe window\n      coords.top + window.pageYOffset);\n    }\n    return true;\n  }\n  if (retryCount < retryMax) {\n    retryTimeout = setTimeout(function () {\n      retryCount++;\n      moveToHash(id);\n    }, retryDelay);\n  }\n\n  return false;\n};\n\n// only scroll when complete url changes\n// (except for hash change - this example provide a natural feeling when you\n// use simple link to internal anchor (eg: a table of content that use hashes\n// inside a page))\n\nvar shouldUpdateScroll = function shouldUpdateScroll(prevProps, props) {\n  var hash = props.location.hash;\n\n  // if there is a page + hash,\n  // it's probably not already in the page since we load page data\n  // asynchronously, AFTER react-router does his job\n  // so here we will handle the work ourselves\n  // (and tell react-router-scroll to not handle it)\n  if (\n  // if page is the same, browser will handle the scroll automatically\n  // so we execute our logic for the scroll only if location change\n  // and include a hash\n  prevProps && prevProps.location.pathname + prevProps.location.search !== props.location.pathname + props.location.search && hash.length > 1) {\n    retryCount = 1;\n    clearTimeout(retryTimeout);\n    var hasScrolled = moveToHash(hash.slice(1));\n\n    // scroll to top until dom is ready,\n    // code above might handle the scroll LATER\n    // if it does we know it and tell react-router to scroll to top until dom\n    // is ready to avoid weird UX (eg: click, no scroll at all)\n    return !hasScrolled;\n  }\n\n  return Boolean(prevProps) && hash === \"\";\n};\n\nexports.default = shouldUpdateScroll;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/components/BodyContainer/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BodyContainer = function (_Component) {\n  _inherits(BodyContainer, _Component);\n\n  function BodyContainer() {\n    _classCallCheck(this, BodyContainer);\n\n    return _possibleConstructorReturn(this, (BodyContainer.__proto__ || Object.getPrototypeOf(BodyContainer)).apply(this, arguments));\n  }\n\n  _createClass(BodyContainer, [{\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n\n      var children = props.children,\n          otherProps = _objectWithoutProperties(props, [\"children\"]);\n\n      var child = void 0;\n      if (typeof children === \"string\") {\n        child = children;\n      } else {\n        try {\n          child = _react2.default.Children.only(children);\n        } catch (e) {\n          console.log(\"phenomic: BodyContainer: multiple childs\");\n        }\n      }\n\n      if (child) {\n        return _react2.default.createElement(\"div\", _extends({\n          className: \"phenomic-BodyContainer\",\n          dangerouslySetInnerHTML: { __html: child }\n        }, otherProps));\n      }\n\n      return _react2.default.createElement(\n        \"div\",\n        otherProps,\n        _react2.default.Children.map(children, function (child, i) {\n          if (typeof child === \"string\") {\n            return _react2.default.createElement(\"div\", {\n              key: i,\n              className: \"phenomic-BodyContainer\",\n              dangerouslySetInnerHTML: { __html: child }\n            });\n          }\n          return child;\n        })\n      );\n    }\n  }]);\n\n  return BodyContainer;\n}(_react.Component);\n\nBodyContainer.propTypes = {\n  children: require(\"react\").PropTypes.any.isRequired\n};\nexports.default = BodyContainer;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/components/Link/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require(\"classnames\");\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _reactRouter = require(\"react-router\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar origin = function origin(location) {\n  return location.origin ||\n\n  // IE does not correctly handle origin, maybe Edge does...\n  location.protocol + \"//\" + location.hostname + (location.port ? \":\" + location.port : \"\");\n};\n\nfunction Link(props, _ref) {\n  var router = _ref.router;\n\n  var to = props.to,\n      otherProps = _objectWithoutProperties(props, [\"to\"]);\n\n  var simpleLink = _react2.default.createElement(\"a\", _extends({}, otherProps, {\n    href: to,\n    className: props.className\n  }));\n\n  // static rendering\n  if (typeof document === \"undefined\") {\n    return simpleLink;\n  }\n\n  var toLink = document.createElement(\"a\");\n  toLink.href = to;\n\n  if (\n  // parent absolute url with the same domain\n  // should not be Link\n  to.indexOf(\"://\") > -1 && to.indexOf(process.env.PHENOMIC_USER_URL) === -1) {\n    return simpleLink;\n  }\n\n  if (origin(toLink) === origin(window.location)\n  // we might want to restrict Link to path including the pathname\n  // but this will require to preprend pathname to all Links from the\n  // collection, which sucks.\n  // If people wants to use Link for a same domain, but in the parent path,\n  // you will need to includes the entire url, / won't work at it will use\n  // the react-router basename defined by Phenomic.\n  // &&\n  // toLink.pathname.includes(process.env.PHENOMIC_USER_PATHNAME)\n  // toLink.pathname.indexOf(process.env.PHENOMIC_USER_PATHNAME) > -1\n  ) {\n      return _react2.default.createElement(_reactRouter.Link, _extends({}, otherProps, {\n        to: to,\n        className: (0, _classnames2.default)(props.className, _defineProperty({}, props.activeClassName, router && (router.isActive({ pathname: props.to }) || router.isActive({ pathname: props.to + \"index.html\" })) && props.activeClassName))\n      }));\n    }\n\n  return simpleLink;\n}\n\nLink.propTypes = {\n  children: _react.PropTypes.node,\n  to: _react.PropTypes.string.isRequired,\n  className: _react.PropTypes.string,\n  activeClassName: _react.PropTypes.string\n};\n\nLink.contextTypes = {\n  router: _react.PropTypes.object.isRequired\n};\n\nLink.displayName = \"Link\";\n\nexports.default = Link;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/npm/bin.js":"#!/usr/bin/env node\n\nrequire(\"../lib/bin/index.js\")\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/bin/index.js":"#!/usr/bin/env node\n\"use strict\";\n\nrequire(\"babel-register\")();\n\n// Check for node and npm version\n// If it doesn't sastify the requirements\n// The process will exits immediately\nrequire(\"./check-engine\")();\n\nrequire(\"./phenomic.js\");","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/bin/check-engine.js":"\"use strict\";\n\nvar _child_process = require(\"child_process\");\n\nvar _semver = require(\"semver\");\n\nvar _semver2 = _interopRequireDefault(_semver);\n\nvar _chalk = require(\"chalk\");\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nvar _bins = require(\"../_utils/bins.js\");\n\nvar _package = require(\"../../package.json\");\n\nvar _package2 = _interopRequireDefault(_package);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = function (nodeVersion, npmVersion, yarnVersion) {\n  var requirements = _package2.default.engines;\n  nodeVersion = nodeVersion || process.version;\n\n  npmVersion = npmVersion || (0, _child_process.execSync)(_bins.npm + \" --version\").toString().trim();\n\n  try {\n    yarnVersion = yarnVersion !== undefined ? yarnVersion : (0, _child_process.execSync)(_bins.yarn + \" --version\").toString().trim();\n  } catch (e) {\n    // nothing, assuming yarn does not exist\n  }\n\n  if (!(_semver2.default.satisfies(nodeVersion, requirements.node) && (_semver2.default.satisfies(npmVersion, requirements.npm) || yarnVersion && _semver2.default.satisfies(yarnVersion, requirements.yarn)))) {\n    var errorMessage = _chalk2.default.yellow(\"\\n⚠️ \" + \"Phenomic requires at least \" + \"node@\" + requirements.node + \" and \" + \"npm@\" + requirements.npm + \" (or yarn@\" + requirements.yarn + \")\" + \"\\n\\n\" + \"Your node version is \" + nodeVersion + (yarnVersion ? \", \" : \" and \") + \"your npm version is \" + npmVersion + (!yarnVersion ? \"\" : \" and \" + \"your yarn version is \" + yarnVersion) + \"\\n\\n\" + _chalk2.default.yellow(\"See 'Setup' instruction in documentation.\") + \" \" + \"https://phenomic.io/docs/setup/\");\n\n    if (process.env.TESTING) {\n      throw new Error(errorMessage);\n    }\n\n    console.error(errorMessage);\n    process.exit(1);\n  }\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/bins.js":"\"use strict\";\n\n// ⚠️ Used in postinstall, so es6 - imports - not transpiled\n\nvar resolve = require(\"path\").resolve;\n\nvar platformSuffix = process.platform === \"win32\" ? \".cmd\" : \"\";\n\nmodule.exports = {\n  babelNode: resolve(\"./node_modules/.bin/babel-node\" + platformSuffix),\n  npm: \"npm\" + platformSuffix,\n  yarn: \"yarn\" + platformSuffix\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/bin/phenomic.js":"\"use strict\";\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nrequire(\"babel-polyfill\");\n\nvar _path = require(\"path\");\n\nvar _yargs = require(\"../configurator/yargs.js\");\n\nvar _yargs2 = _interopRequireDefault(_yargs);\n\nvar _index = require(\"../configurator/index.js\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _log = require(\"../_utils/log\");\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar _index3 = require(\"./commands/setup/index.js\");\n\nvar _index4 = _interopRequireDefault(_index3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar runner = function runner() {\n  (0, _log2.default)(\"Phenomic is starting\", \"info\");\n  var cwd = process.cwd();\n  var pkg = require((0, _path.join)(cwd, \"package.json\"));\n  var config = (0, _index2.default)({ argv: process.argv, pkg: pkg });\n\n  // lazyload builder to avoid issue when webpack is no installed yet\n  // @todo move runner() out of this file so setup can work without\n  // lazyloading via \"require()\"\n  var builder = require(\"../builder/index.js\").default;\n  builder(config);\n};\n\nvar startAndBuildOptions = {\n  \"webpack-config\": {\n    type: \"string\",\n    describe: \"Webpack config (must export a function)\",\n    default: \"webpack.config.js\"\n  },\n  \"script-browser\": {\n    type: \"string\",\n    describe: \"Phenomic entry point (browser)\",\n    default: (0, _path.join)(\"scripts\", \"phenomic.browser.js\")\n  },\n  \"script-node\": {\n    type: \"string\",\n    describe: \"Phenomic entry point (node)\",\n    default: (0, _path.join)(\"scripts\", \"phenomic.node.js\")\n  }\n};\n\n_yargs2.default.command(\"setup\", \"setup a project\", {\n  test: {\n    describe: \"Test mode (don't use this option).\"\n  }\n}, _index4.default);\n\n_yargs2.default.command(\"start\", \"start your project (server / development mode)\", _extends({}, startAndBuildOptions, {\n  dev: { default: true },\n  server: { default: true },\n  open: { default: true }\n}), runner);\n\n_yargs2.default.command(\"build\", \"build your project (static / production mode)\", _extends({}, startAndBuildOptions, {\n  production: { default: true },\n  static: { default: true }\n}), runner);\n\n_yargs2.default.parse(process.argv);","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/yargs.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _yargs = require(\"yargs\");\n\nvar _yargs2 = _interopRequireDefault(_yargs);\n\nvar _package = require(\"../../package.json\");\n\nvar _definitions = require(\"./definitions.js\");\n\nvar _definitions2 = _interopRequireDefault(_definitions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import * as validators from \"./validators.js\"\n\n_yargs2.default.version(function () {\n  return _package.version;\n}).help().showHelpOnFail().epilogue(\"For more information about the configuration, \" + \"https://phenomic.io/\");\n\nObject.keys(_definitions2.default).forEach(function (optName) {\n  var option = _definitions2.default[optName];\n\n  // for now all flags are common\n  _yargs2.default.global(optName);\n\n  // check type\n  // eg: yargs.boolean(someflag) to ensure that the type is correct\n  if (option.type && _yargs2.default[option.type]) {\n    _yargs2.default[option.type](optName);\n  }\n\n  if (option.default) {\n    _yargs2.default.default(optName, option.default);\n  }\n\n  if (option.description) {\n    _yargs2.default.describe(optName, option.description);\n  }\n\n  // made by hand for now, we might revisit option this later\n  // if (validators[optName]) {\n  //   yargs.check(() => {\n  //\n  //   })\n  // }\n});\n\nexports.default = _yargs2.default;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/definitions.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  \"cwd\": {\n    type: \"string\",\n    description: \"base directory (eg: where 'source' and 'destination' should be\",\n    default: process.cwd()\n  },\n  \"source\": {\n    type: \"string\",\n    description: \"source folder of your content (md, assets, etc)\",\n    default: \"content\"\n  },\n  \"destination\": {\n    type: \"string\",\n    description: \"destination folder of your build\",\n    default: \"dist\"\n  },\n  \"assets\": {\n    // types: string, objects, boolean and falsy value\n    description: \"path to static assets (images, media etc)\",\n    default: \"assets\"\n  },\n  \"offline\": {\n    // types: boolean, object\n    description: \"flag to enable offline usage via appcache and service worker\"\n  },\n  \"force-offline\": {\n    type: \"boolean\",\n    description: \"flag to force offline mode (for development)\",\n    default: false\n  },\n  \"CNAME\": {\n    type: \"boolean\",\n    description: \"flag to enable automatic generation of a CNAME file\",\n    default: false\n  },\n  \"nojekyll\": {\n    type: \"boolean\",\n    description: \"flag to generate a .nojekyll file, to avoid Jekyll automatic step on\" + \"GitHub Pages\",\n    default: true\n  },\n  \"devHost\": {\n    type: \"string\",\n    description: \"host used during development\",\n    default: \"0.0.0.0\"\n  },\n  \"devPort\": {\n    type: \"number\",\n    description: \"port used during development\",\n    default: 3333\n  },\n  \"verbose\": {\n    type: \"boolean\",\n    description: \"flag to enable a more verbose output\",\n    default: false\n  },\n  \"dev\": {\n    type: \"boolean\",\n    description: \"flag to enable dev mode (hot loading)\",\n    default: false\n  },\n  \"production\": {\n    type: \"boolean\",\n    description: \"flag to enable production (optimized) mode\",\n    default: false\n  },\n  \"static\": {\n    type: \"boolean\",\n    description: \"flag to enable static build\",\n    default: false\n  },\n  \"server\": {\n    type: \"boolean\",\n    description: \"flag to enable development server\",\n    default: false\n  },\n  \"open\": {\n    type: \"boolean\",\n    description: \"flag to automatically open development server\",\n    default: true\n  },\n  \"cache\": {\n    type: \"boolean\",\n    description: \"flag to enable hard cache for webpack \" + \"(hard-source-webpack-plugin)\",\n    default: false\n  },\n  \"clientScripts\": {\n    type: \"boolean\",\n    description: \"flag to disable client side JavaScript in HTML files\",\n    default: true\n  }\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = config;\nexports.testConfig = testConfig;\n\nvar _path = require(\"path\");\n\nvar _chalk = require(\"chalk\");\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nvar _yargs = require(\"./yargs.js\");\n\nvar _yargs2 = _interopRequireDefault(_yargs);\n\nvar _definitions = require(\"./definitions.js\");\n\nvar _definitions2 = _interopRequireDefault(_definitions);\n\nvar _minimalValidator = require(\"./minimal-validator.js\");\n\nvar _minimalValidator2 = _interopRequireDefault(_minimalValidator);\n\nvar _validators = require(\"./validators.js\");\n\nvar validators = _interopRequireWildcard(_validators);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n// eslint-disable-next-line import/no-namespace\n\n\nfunction config() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$argv = _ref.argv,\n      argv = _ref$argv === undefined ? [] : _ref$argv,\n      _ref$pkg = _ref.pkg,\n      pkg = _ref$pkg === undefined ? {} : _ref$pkg;\n\n  var userJSConfig = pkg.phenomic || {};\n\n  _yargs2.default.strict();\n\n  var defaultAndCLIconfig = _yargs2.default.parse(argv);\n\n  // delete unwanted yargs parameters\n  delete defaultAndCLIconfig.$0;\n  delete defaultAndCLIconfig._;\n  delete defaultAndCLIconfig.help;\n  delete defaultAndCLIconfig.version;\n\n  // validate user parameters\n  var errors = [].concat(_toConsumableArray((0, _minimalValidator2.default)(userJSConfig, _definitions2.default)));\n\n  var config = _extends({}, defaultAndCLIconfig, userJSConfig, process.env.TESTING && userJSConfig.cwd === undefined && {\n    cwd: (0, _path.join)(__dirname, \"__tests__\")\n  });\n\n  // validation/adjustement for each options\n  Object.keys(validators).forEach(function (key) {\n    // eslint-disable-next-line import/namespace\n    validators[key]({\n      pkg: pkg,\n      config: config,\n      definitions: _definitions2.default,\n      errors: errors\n    });\n  });\n\n  if (errors.length > 0) {\n    var errorMessage = \"\\n⚠️ \" + \"phenomic: \" + _chalk2.default.yellow(\"your config is invalid. Please fix the errors:\") + \"\\n\\n\" + _chalk2.default.red(\"- \" + errors.join(\"\\n- \")) + \"\\n\\n\" + _chalk2.default.yellow(\"See 'Configuration' section in documentation.\") + \" \" + \"https://phenomic.io/docs/usage/configuration/\";\n    if (process.env.TESTING) {\n      throw new Error(errorMessage);\n    }\n    // else\n    console.error(errorMessage);\n    process.exit(1);\n  }\n\n  return config;\n}\n\nfunction testConfig(cfg) {\n  return config({\n    pkg: { phenomic: cfg }\n  });\n}","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/minimal-validator.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = function (config, definitions) {\n  var errors = [];\n\n  Object.keys(config).forEach(function (key) {\n    if (!definitions[key]) {\n      errors.push(\"Unknow option '\" + key + \"'.\");\n    } else if (definitions[key].type !== undefined && definitions[key].type !== _typeof(config[key])) {\n      errors.push(\"Wrong type for '\" + key + \"': expected '\" + definitions[key].type + \"', \" + (\"got '\" + _typeof(config[key]) + \"'.\"));\n    }\n  });\n\n  return errors;\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/validators.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.production = exports.offline = exports.devPort = exports.baseUrl = exports.assets = undefined;\n\nvar _assets2 = require(\"./validators/assets.js\");\n\nvar _assets3 = _interopRequireDefault(_assets2);\n\nvar _baseUrl2 = require(\"./validators/baseUrl.js\");\n\nvar _baseUrl3 = _interopRequireDefault(_baseUrl2);\n\nvar _devPort2 = require(\"./validators/devPort.js\");\n\nvar _devPort3 = _interopRequireDefault(_devPort2);\n\nvar _offline2 = require(\"./validators/offline.js\");\n\nvar _offline3 = _interopRequireDefault(_offline2);\n\nvar _production2 = require(\"./validators/production.js\");\n\nvar _production3 = _interopRequireDefault(_production2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.assets = _assets3.default;\nexports.baseUrl = _baseUrl3.default;\nexports.devPort = _devPort3.default;\nexports.offline = _offline3.default; // ! must be after baseUrl\n\nexports.production = _production3.default;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/validators/assets.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = function (_ref) {\n  var config = _ref.config,\n      errors = _ref.errors;\n\n  // Prepare config.assets path and route\n  if (config.assets) {\n\n    // normalize simple string options\n    if ([\"boolean\", \"string\", \"object\"].indexOf(_typeof(config.assets)) < 0) {\n      errors.push(\"You provided a \" + _typeof(config.assets) + \" for 'assets' option.\" + \"This option accept a boolean value, a string, or an object.\");\n    } else if (_typeof(config.assets) === \"object\" && (typeof config.assets.path !== \"string\" || typeof config.assets.route !== \"string\")) {\n      var configAssets = config.assets;\n      errors.push(\"You provided an object for 'assets' option.\" + \"You need to provide 2 keys: \" + \"'path' (string, path of your assets, relative to 'source') \" + \"and 'route' (string, path of your assets folder in the destination).\" + \"\\n\" + \"You provided the following keys: \" + Object.keys(configAssets).map(function (k) {\n        return \"'\" + k + \"' (\" + _typeof(configAssets[k]) + \")\";\n      }).toString());\n    } else {\n      if (typeof config.assets === \"string\") {\n        config.assets = {\n          path: config.assets,\n          route: config.assets\n        };\n      } else if (typeof config.assets === \"boolean\") {\n        // === true\n        config.assets = {\n          path: _definitions2.default.assets.default,\n          route: _definitions2.default.assets.default\n        };\n      }\n\n      var _configAssets = config.assets;\n      // adjust path and validate\n      config.assets = {\n        path: (0, _path.join)(config.cwd, config.source, _configAssets.path),\n        route: _configAssets.route\n      };\n\n      // Test folder\n      try {\n        var stats = _fs2.default.lstatSync(config.assets.path);\n        if (!stats.isDirectory()) {\n          // Just throw a dump error\n          throw new Error(\"This is not a folder\");\n        }\n      } catch (e) {\n        errors.push(config.assets.path + \" doesn't exist or isn't a folder. \" + \"Please check your 'assets' configuration. \" + \"Note that if you don't need this option, \" + \"you can set it up to `false`.\");\n      }\n    }\n  }\n};\n\nvar _path = require(\"path\");\n\nvar _fs = require(\"fs\");\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _definitions = require(\"../definitions.js\");\n\nvar _definitions2 = _interopRequireDefault(_definitions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/validators/baseUrl.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function (_ref) {\n  var pkg = _ref.pkg,\n      config = _ref.config;\n\n  var devUrl = \"http://\" + config.devHost + \":\" + config.devPort + \"/\";\n  var prodBaseUrl = (0, _url.parse)(pkg.homepage ? pkg.homepage : devUrl);\n  config.baseUrl = config.production ? prodBaseUrl : _extends({}, (0, _url.parse)(devUrl), {\n    // get base from prod url\n    pathname: prodBaseUrl.path ? prodBaseUrl.path : \"/\"\n  });\n\n  config.baseUrl = (0, _index2.default)(config.baseUrl);\n\n  // Set basename to process.env for universal usage\n  process.env.PHENOMIC_USER_PATHNAME = config.baseUrl.pathname;\n};\n\nvar _url = require(\"url\");\n\nvar _index = require(\"../../_utils/normalize-base-url/index.js\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/normalize-base-url/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _url = require(\"url\");\n\nexports.default = function (baseUrl) {\n  // ensure trailing slash\n  if (baseUrl.pathname && !baseUrl.pathname.endsWith(\"/\")) {\n    baseUrl.pathname = baseUrl.pathname + \"/\";\n  }\n\n  // update baseUrl.href since pathname has been updated\n  // the usage of the spread operator is to avoid having the \"magic\" Object\n  // returned by node (eg: make assertions difficult)\n  return _extends({}, (0, _url.parse)((0, _url.format)({\n    // baseUrl cannot just be passed directly\n    // https://github.com/facebook/flow/issues/908\n    href: baseUrl.href,\n    protocol: baseUrl.protocol,\n    slashes: baseUrl.slashes,\n    auth: baseUrl.auth,\n    hostname: baseUrl.hostname,\n    port: baseUrl.port,\n    host: baseUrl.host,\n    pathname: baseUrl.pathname,\n    search: baseUrl.search,\n    query: baseUrl.query,\n    hash: baseUrl.hash\n  })));\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/validators/devPort.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var config = _ref.config,\n      errors = _ref.errors;\n\n  var port = Math.trunc(config.devPort);\n\n  if (port > 0) {\n    config.devPort = port;\n  } else {\n    errors.push(\"`devPort` must be a legal http port number\");\n  }\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/validators/offline.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultOfflineConfig = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _url = require(\"url\");\n\nvar _chalk = require(\"chalk\");\n\nvar _log = require(\"../../_utils/log\");\n\nvar _log2 = _interopRequireDefault(_log);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultOfflineConfig = exports.defaultOfflineConfig = {\n  serviceWorker: true,\n  appcache: true,\n  cachePatterns: {\n    onInstall: [\"/\", \"phenomic.*\"],\n    afterInstall: [\"**\", \":assets:\"],\n    onDemand: [],\n    excludes: [\"**/.*\", \"**/*.map\", \"**/*.html\"]\n  }\n};\n\nvar knownKeys = Object.keys(defaultOfflineConfig);\n\nexports.default = function (_ref) {\n  var pkg = _ref.pkg,\n      config = _ref.config,\n      errors = _ref.errors;\n\n\n  if (!config.offline) {\n    config.offline = false;\n    return;\n  }\n\n  if (config.offline === true) {\n    config.offlineConfig = defaultOfflineConfig;\n  } else if (_typeof(config.offline) !== \"object\") {\n    var keys = Object.keys(defaultOfflineConfig);\n    errors.push(\"Your provided an '\" + _typeof(config.offline) + \"'\" + \"for 'phenomic.offline'.\" + \"This option accepts a boolean or an object\" + (\"with \" + keys.length + \" keys: \") + keys.join(\", \"));\n\n    return;\n  } else {\n    var userOfflineConfig = config.offline;\n\n    var allKeys = Object.keys(userOfflineConfig);\n    var incorrectKeys = allKeys.filter(function (key) {\n      return knownKeys.indexOf(key) === -1;\n    });\n    if (incorrectKeys.length) {\n      errors.push(\"You provided some key(s) \" + \"for 'phenomic.offline' option \" + \"that are not recognized \" + (\"(\" + incorrectKeys.join(\", \") + \"). \") + \"\");\n    }\n\n    if (typeof userOfflineConfig.serviceWorker !== \"boolean\") {\n      errors.push(\"You provided an incorrect type\" + (\" ('\" + _typeof(userOfflineConfig.serviceWorker) + \"') \") + \"for 'phenomic.offline.serviceWorker' option. \" + \"This option accepts a boolean value.\");\n    }\n\n    if (typeof userOfflineConfig.appcache !== \"boolean\") {\n      errors.push(\"You provided an incorrect type\" + (\" ('\" + _typeof(userOfflineConfig.appcache) + \"') \") + \"for 'phenomic.offline.appcache' option. \" + \"This option accepts a boolean value.\");\n    }\n\n    // Validate patterns\n    var cachePatternsKeys = Object.keys(defaultOfflineConfig.cachePatterns);\n    var error = void 0;\n    if (_typeof(userOfflineConfig.cachePatterns) !== \"object\") {\n      error = \"You provided an incorrect type\" + (\" ('\" + _typeof(userOfflineConfig.cachePatterns) + \"') \") + \"for 'phenomic.offline.cachePatterns' option. \";\n    } else {\n      var _incorrectKeys = Object.keys(userOfflineConfig.cachePatterns).filter(function (key) {\n        return !(cachePatternsKeys.indexOf(key) > -1) || !Array.isArray(userOfflineConfig.cachePatterns[key]);\n      });\n      if (_incorrectKeys.length) {\n        error = \"You provided some key(s) \" + \"for 'phenomic.offline.cachePatterns' option \" + \"that are not recognized or with incorrect types \" + (\"(\" + _incorrectKeys.join(\", \") + \"). \") + \"\";\n      }\n    }\n    if (error) {\n      errors.push(error + \"This option accepts a object with \" + (\"with \" + cachePatternsKeys.length + \" keys: \") + cachePatternsKeys.join(\", \") + \" \" + \"that accept array of glob patterns.\");\n    }\n\n    // Merge config with default config\n    config.offlineConfig = _extends({}, defaultOfflineConfig, userOfflineConfig, {\n      cachePatterns: _extends({}, defaultOfflineConfig.cachePatterns, userOfflineConfig.cachePatterns)\n    });\n  }\n\n  if (pkg.homepage && (0, _url.parse)(pkg.homepage).protocol !== \"https:\" && config.offlineConfig.serviceWorker) {\n    console.warn((0, _chalk.yellow)(\"ServiceWorker (for Offline access) only works with HTTPS protocol.\" + \"You are currently using HTTP, so ServiceWorker will be ignored by \" + \"browsers.\"));\n  }\n\n  // Disable offline for development if user defined offline config\n  if (config.dev && config.offline && !config.forceOffline) {\n    config.offline = false;\n    config.offlineConfig = {\n      serviceWorker: false,\n      appcache: false,\n      cachePatterns: {}\n    };\n    (0, _log2.default)((0, _chalk.gray)(\"Offline support disabled during development \" + \"(to avoid some false positives)\"), \"warning\");\n    return;\n  }\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/log/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.plainLog = exports.totalElapsedTime = exports.elapsedTime = exports.formatTime = exports.setTime = exports.setStartTime = exports.start = undefined;\n\nvar _chalk = require(\"chalk\");\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nvar _logSymbols = require(\"log-symbols\");\n\nvar _logSymbols2 = _interopRequireDefault(_logSymbols);\n\nvar _ora = require(\"ora\");\n\nvar _ora2 = _interopRequireDefault(_ora);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar symbolOrSuccess = function symbolOrSuccess(symbol) {\n  return _logSymbols2.default[symbol ? symbol : \"success\"];\n};\n\n// eslint-disable-next-line import/no-mutable-exports\n\n\nvar start = exports.start = new Date();\nvar lastTime = new Date();\n\n// for testing\nvar setStartTime = exports.setStartTime = function setStartTime(t) {\n  exports.start = start = t;\n};\nvar setTime = exports.setTime = function setTime(t) {\n  lastTime = t;\n};\n\nvar formatTime = exports.formatTime = function formatTime(time) {\n  return Math.round(time * 100) / 100 + \"s\";\n};\n\nvar elapsedTime = exports.elapsedTime = function elapsedTime() {\n  var now = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n  var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : lastTime;\n\n  var diff = (now.getTime() - time.getTime()) / 1000;\n  lastTime = now;\n  if (diff < 0.1) {\n    return \"\";\n  }\n\n  var color = diff < 1 ? _chalk2.default.gray : _chalk2.default.blue;\n  return color(\"+\" + formatTime(diff));\n};\n\nvar totalElapsedTime = exports.totalElapsedTime = function totalElapsedTime() {\n  var now = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n\n  return elapsedTime(now, start);\n};\n\nvar plainLog = exports.plainLog = function plainLog(message) {\n  var symbol = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"info\";\n\n  console.log(_logSymbols2.default[symbol], message);\n};\n\nexports.default = function (message, action) {\n  // the space is used to avoid shitty collapsed message from other modules\n  // that can happen during a loading...\n  var spinner = (0, _ora2.default)(message + \" \");\n\n  if (action && action.then) {\n    spinner.start();\n    // $FlowFixMe when we use .start() above, flow miss the action.then test...\n    return action.then(function (res) {\n      spinner.text += elapsedTime();\n      spinner.succeed();\n      return res;\n    }, function (res) {\n      spinner.text += elapsedTime();\n      spinner.fail();\n      return res;\n    });\n  }\n  if (typeof action === \"function\") {\n    spinner.start();\n    try {\n      var res = action();\n      spinner.text += elapsedTime();\n      spinner.succeed();\n      return res;\n    } catch (e) {\n      spinner.text += elapsedTime();\n      spinner.fail();\n      throw e;\n    }\n  }\n\n  // else\n  spinner.text += elapsedTime();\n  spinner.stopAndPersist(symbolOrSuccess(action && String(action)));\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/configurator/validators/production.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (_ref) {\n  var pkg = _ref.pkg,\n      config = _ref.config,\n      errors = _ref.errors;\n\n  if (config.production) {\n    process.env.NODE_ENV = \"production\";\n    if (!pkg.homepage) {\n      errors.push(\"Your package.json require a 'homepage' field.\");\n    }\n  }\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/bin/commands/setup/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _path = require(\"path\");\n\nvar _chalk = require(\"chalk\");\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nvar _fsPromise = require(\"fs-promise\");\n\nvar _fsPromise2 = _interopRequireDefault(_fsPromise);\n\nvar _globby = require(\"globby\");\n\nvar _globby2 = _interopRequireDefault(_globby);\n\nvar _inquirer = require(\"inquirer\");\n\nvar _package = require(\"../../../../package.json\");\n\nvar _package2 = require(\"../../../../themes/phenomic-theme-base/package.json\");\n\nvar _package3 = _interopRequireDefault(_package2);\n\nvar _log = require(\"../../../_utils/log\");\n\nvar _questions = require(\"./questions\");\n\nvar _questions2 = _interopRequireDefault(_questions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar themePath = (0, _path.join)(__dirname, \"../../../../themes/phenomic-theme-base\");\n\nexports.default = function () {\n  var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(argv) {\n    var cwd, testMode, answers, name, homepage, twitter, repository, phenomic, devDependencies, pkg, files;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            cwd = process.cwd();\n            testMode = argv.test;\n\n\n            (0, _log.plainLog)(\"Note: All values can be adjusted later.\");\n\n            _context.prev = 3;\n\n            if (!testMode) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.t0 = _questions.defaultTestAnswers;\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.next = 10;\n            return (0, _inquirer.prompt)(_questions2.default);\n\n          case 10:\n            _context.t0 = _context.sent;\n\n          case 11:\n            answers = _context.t0;\n            name = answers.name, homepage = answers.homepage, twitter = answers.twitter, repository = answers.repository, phenomic = _objectWithoutProperties(answers, [\"name\", \"homepage\", \"twitter\", \"repository\"]);\n            devDependencies = _extends({}, _package3.default.devDependencies, !testMode && {\n              phenomic: \"^\" + _package.version\n            });\n            pkg = _extends({}, _package3.default, {\n              name: name,\n              homepage: homepage,\n              phenomic: phenomic,\n              twitter: twitter,\n              repository: repository,\n              devDependencies: devDependencies\n            });\n            _context.next = 17;\n            return _fsPromise2.default.writeJson((0, _path.join)(cwd, \"package.json\"), pkg);\n\n          case 17:\n            (0, _log.plainLog)(\"`package.json` generated\");\n\n            files = _globby2.default.sync([\"*\",\n            // node_modules is excluded because can be present during tests\n            // (but will never be in public package)\n            \"!node_modules\",\n            // already generated\n            \"!package.json\",\n            // we assume it's up to the user\n            \"!yarn.lock\"], { dot: true, cwd: themePath });\n            _context.next = 21;\n            return Promise.all(files.map(function (file) {\n              return _fsPromise2.default.copy((0, _path.join)(themePath, file), (0, _path.join)(cwd, file));\n            }));\n\n          case 21:\n            (0, _log.plainLog)(\"Base theme installed\");\n\n            (0, _log.plainLog)(\"Project ready. Only one `npm install` and you are good to go!\", \"success\");\n            _context.next = 29;\n            break;\n\n          case 25:\n            _context.prev = 25;\n            _context.t1 = _context[\"catch\"](3);\n\n            console.error(_chalk2.default.red(_context.t1));\n            process.exit(1);\n\n          case 29:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[3, 25]]);\n  }));\n\n  function setup(_x) {\n    return _ref.apply(this, arguments);\n  }\n\n  return setup;\n}();","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/bin/commands/setup/questions.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultTestAnswers = undefined;\n\nvar _validUrl = require(\"valid-url\");\n\nvar _validUrl2 = _interopRequireDefault(_validUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultTestAnswers = exports.defaultTestAnswers = {\n  name: \"phenomic-theme-base\",\n  homepage: \"https://phenomic.io/themes/base/demo\",\n  twitter: \"Phenomic_app\",\n  repository: \"https://github.com/MoOx/phenomic\",\n  CNAME: false\n};\n\nvar packageJsonNameRE = /^[a-zA-Z0-9\\-]+$/;\nvar twitterRE = /^[a-zA-Z0-9\\-_]+$/;\n\nvar questions = [{\n  type: \"input\",\n  name: \"name\",\n  message: \"Dashed name of your project (eg: my-project)\",\n  validate: function validate(value) {\n    if (packageJsonNameRE.test(value)) {\n      return true;\n    }\n    return \"Only letters, numbers and dashes are allowed.\";\n  }\n}, {\n  type: \"input\",\n  name: \"homepage\",\n  message: \"Website url (eg: http://abc.xyz/)\",\n  validate: function validate(value) {\n    if (_validUrl2.default.isWebUri(value)) {\n      return true;\n    }\n    return \"Please provide a valid url\";\n  }\n}, {\n  type: \"input\",\n  name: \"repository\",\n  message: \"Repository url\" + \" (eg: https://github.com/MoOx/phenomic.git, optional)\",\n  validate: function validate(value) {\n    if (value === \"\" || _validUrl2.default.isWebUri(value)) {\n      return true;\n    }\n    return \"Please provide a valid url for repository\";\n  }\n}, {\n  type: \"input\",\n  name: \"twitter\",\n  message: \"Twitter nickname (eg: MoOx, optional)\",\n  validate: function validate(value) {\n    if (value === \"\" || twitterRE.test(value)) {\n      return true;\n    }\n    return \"Only letters, numbers, dashes & underscores are allowed.\";\n  }\n}, {\n  type: \"confirm\",\n  name: \"CNAME\",\n  message: \"Do you want a CNAME file (eg: for GitHub Pages)?\",\n  default: false\n}];\n\nexports.default = questions;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/npm/postinstall.js":"// ⚠️\n// not too much es2015 as this is delivered/run via npm as is\n// ⚠️\n\nconst stat = require(\"fs\").stat\nconst spawn = require(\"child_process\").spawn\nconst execSync = require(\"child_process\").execSync\nconst join = require(\"path\").join\n\nconst fs = require(\"fs-extra\")\n\n// node 4 don't like this\n// const { babelNode, npm } = require(\"../src/_utils/bins.js\")\nconst babelNode = require(\"../src/_utils/bins.js\").babelNode\nconst npm = require(\"../src/_utils/bins.js\").npm\nconst pkg = require(\"../package.json\")\n\nconst spawnOpts = {\n  stdio: \"inherit\",\n  cwd: join(__dirname, \"../\"),\n}\n\nconst toPrepare = [\n  \"docs\",\n  \"phenomic-theme-base\",\n  \"test-setup\",\n]\n\nfunction prepareOtherNodeModulesFolder() {\n  // e2e-tests are only present if you clone the full repo\n  // (won't be present when npm install with git ref)\n  stat(\"e2e-tests\", function(error, stats) {\n    // for dev install, we prepare docs and base theme deps\n    if (!error && stats.isDirectory()) {\n      console.log(\"ℹ️ Tweaking and installing dependencies for sub-projects\")\n\n      toPrepare.forEach((script) => {\n        console.log(\"- Preparing \"+ script)\n        execSync(babelNode + \" scripts/\" + script + \".js\", spawnOpts)\n      })\n    }\n  })\n}\n\n// if repo installed from npm, we try to compile src\nstat(\"lib\", function(error, stats) {\n\n  // if lib is present, no need to transpile\n  // just prepare\n  if (!error && stats.isDirectory()) {\n    prepareOtherNodeModulesFolder()\n    return true\n  }\n\n  console.warn(\n    \"\\n\" +\n    \"ℹ️ Builded sources not found. It looks like you might be attempting \" +\n    `to install ${ pkg.name } from git. \\n` +\n    \"Sources need to be transpiled before use. \" +\n    // see commented code below\n    // \"This may take a moment.\" +\n    \"\\n\"\n  )\n\n  const fail  = (err) => {\n    console.error(\n      `❌ Failed to build ${ pkg.name } automatically. ` +\n\n      // see commented babel install below\n      \"Do you have to required dependencies to install from git?\\n\" +\n      \"Be sure to have installed run this before:\" +\n      \"\\n\\n\" +\n      `npm install babel-cli ${ pkg.babel.presets }` +\n      \"\\n\\n\" +\n      \"Then rebuild phenomic by running: \" +\n      \"\\n\\n\" +\n      \"npm rebuild phenomic\" +\n      \"\\n\\n\"\n    )\n\n    if (err) {\n      throw err\n    }\n  }\n\n  // npm install fails with\n  //    Cannot read property 'target' of null\n  // https://github.com/npm/npm/issues/10686\n\n  // const installTranspiler = spawn(\n  //   npm,\n  //   [ \"i\" , \"babel-cli\", ...pkg.babel.presets ],\n  //   spawnOpts\n  // )\n\n  // installTranspiler.on(\"error\", fail)\n  // installTranspiler.on(\"close\", (code) => {\n  //   console.log(pkg.name, \"postinstall deps installed\")\n  //   if (code === 0) {\n  const installer = spawn(\n    npm,\n    [ \"run\", \"transpile\" ],\n    spawnOpts\n  )\n\n  installer.on(\"error\", fail)\n  installer.on(\"close\", function() {\n    console.log(\"✅ Source transpiled.\")\n    prepareOtherNodeModulesFolder()\n  })\n  //   }\n  // })\n})\n\n// npm rename .gitignore to .npmignore (which is just stupid for us)\nconst phenomicThemeBaseDir = join(__dirname, \"../themes/phenomic-theme-base\")\nstat(join(phenomicThemeBaseDir, \".npmignore\"), function(err) {\n  if (err) {\n    console.log(\"ℹ️ No .npmignore in phenomic-theme-base to rename\")\n    return true\n  }\n\n  fs.move(\n    join(phenomicThemeBaseDir, \".npmignore\"),\n    join(phenomicThemeBaseDir, \".gitignore\"),\n    function(err) {\n      if (err && err.code !== \"EEXIST\") {\n        throw new Error(\n          \"Cannot rename .npmignore to .gitignore in phenomic-theme-base\"\n        )\n      }\n    }\n  )\n})\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/src/_utils/bins.js":"// ⚠️ Used in postinstall, so es6 - imports - not transpiled\n\nconst resolve = require(\"path\").resolve\n\nconst platformSuffix = process.platform === \"win32\" ? \".cmd\" : \"\"\n\nmodule.exports = {\n  babelNode: resolve(\"./node_modules/.bin/babel-node\" + platformSuffix),\n  npm: \"npm\" + platformSuffix,\n  yarn: \"yarn\" + platformSuffix,\n}\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/src/index.js":"// @flow\n\n// why\n// export { default as Xxxx } from .. ?\n// because\n// https://github.com/facebook/flow/issues/1674\n\nexport { default as PageContainer } from \"./components/PageContainer\"\nexport { default as BodyContainer } from \"./components/BodyContainer\"\nexport { default as Link } from \"./components/Link\"\nexport { default as joinUri } from \"url-join\"\n\nexport const phenomicLoader = \"phenomic/lib/loader\"\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/builder/dynamic-require.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// @ flow\n// flow does not like require(var), so I am just doing this ugly trick to skip\n// flow warning.\n\nexports.default = require;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/builder/server.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n// module.exports is used\n// eslint-disable-next-line import/default\n\n\nvar _path = require(\"path\");\n\nvar _child_process = require(\"child_process\");\n\nvar _express = require(\"express\");\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _webpack = require(\"webpack\");\n\nvar _webpack2 = _interopRequireDefault(_webpack);\n\nvar _webpackDevMiddleware = require(\"webpack-dev-middleware\");\n\nvar _webpackDevMiddleware2 = _interopRequireDefault(_webpackDevMiddleware);\n\nvar _webpackHotMiddleware = require(\"webpack-hot-middleware\");\n\nvar _webpackHotMiddleware2 = _interopRequireDefault(_webpackHotMiddleware);\n\nvar _connectHistoryApiFallback = require(\"connect-history-api-fallback\");\n\nvar _connectHistoryApiFallback2 = _interopRequireDefault(_connectHistoryApiFallback);\n\nvar _portfinder = require(\"portfinder\");\n\nvar _portfinder2 = _interopRequireDefault(_portfinder);\n\nvar _opn = require(\"opn\");\n\nvar _opn2 = _interopRequireDefault(_opn);\n\nvar _log = require(\"../_utils/log\");\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar _plugin = require(\"../loader/plugin.js\");\n\nvar _plugin2 = _interopRequireDefault(_plugin);\n\nvar _minify = require(\"../loader/minify\");\n\nvar _minify2 = _interopRequireDefault(_minify);\n\nvar _serialize = require(\"../_utils/serialize\");\n\nvar _serialize2 = _interopRequireDefault(_serialize);\n\nvar _pathToUri = require(\"../_utils/path-to-uri\");\n\nvar _pathToUri2 = _interopRequireDefault(_pathToUri);\n\nvar _logFormatter = require(\"./webpack/log-formatter.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar devServerNoScript = \"Phenomic development server requires JavaScript.\\nIf you want to check our your website works without JavaScript, you need to\\nbuild the static version and server the result.\\nYou can do this by doing: <code>npm run build -- --serve</code>\\n\";\n\nexports.default = function (config) {\n  var webpackConfig = config.webpackConfigBrowser;\n\n\n  if (!config.baseUrl) {\n    throw new Error(\"You must provide a 'baseUrl' object that contains the following keys:\" + \"'href', 'port', 'hostname'. See https://nodejs.org/api/url.html\");\n  }\n\n  var server = (0, _express2.default)();\n\n  if (config.static && config.server) {\n    server.use(config.baseUrl.pathname, _express2.default.static((0, _path.join)(config.cwd, config.destination)));\n  } else {\n    var devEntries = [require.resolve(\"webpack-hot-middleware/client\")];\n\n    var devConfig = _extends({}, webpackConfig, {\n      entry: _extends({}, Object.keys(webpackConfig.entry).reduce(function (acc, key) {\n        return _extends({}, acc, _defineProperty({}, key, [].concat(devEntries, _toConsumableArray(Array.isArray(webpackConfig.entry[key]) ? webpackConfig.entry[key] : [webpackConfig.entry[key]]))));\n      }, {})),\n      plugins: [].concat(_toConsumableArray(webpackConfig.plugins || []), [\n\n      // for hot-middleware\n      new _webpack2.default.optimize.OccurrenceOrderPlugin(), new _webpack2.default.HotModuleReplacementPlugin(), new _webpack2.default.NoEmitOnErrorsPlugin()])\n    });\n\n    // webpack dev + hot middlewares\n    var webpackCompiler = (0, _webpack2.default)(devConfig);\n\n    server.use((0, _webpackDevMiddleware2.default)(webpackCompiler, _extends({\n      publicPath: webpackConfig.output.publicPath,\n      // skip compilation logs if !verbose\n      noInfo: !config.verbose,\n      quiet: !config.verbose\n    }, devConfig.devServer)));\n    server.use((0, _webpackHotMiddleware2.default)(webpackCompiler, {\n      // skip hot middleware logs if !verbose\n      log: config.verbose ? undefined : function () {}\n    }));\n\n    var entries = [];\n    webpackCompiler.plugin(\"done\", function (stats) {\n      entries = [];\n      var namedChunks = stats.compilation.namedChunks;\n      Object.keys(namedChunks).forEach(function (chunkName) {\n        entries = [].concat(_toConsumableArray(entries), _toConsumableArray(namedChunks[chunkName].files.filter(function (file) {\n          return !file.endsWith(\".hot-update.js\");\n        })));\n      });\n    });\n\n    // if !verbose, use our custom minimal output\n    if (!config.verbose) {\n      (0, _logFormatter.handleInvalid)(); // start \"Updating\"\n      webpackCompiler.plugin(\"invalid\", _logFormatter.handleInvalid);\n      webpackCompiler.plugin(\"done\", _logFormatter.handleDone);\n    }\n\n    // user static assets\n    if (config.assets) {\n      server.use(config.baseUrl.pathname + config.assets.route, _express2.default.static(config.assets.path));\n    }\n\n    // routing for the part we want (starting to the baseUrl pathname)\n    var router = (0, _express.Router)();\n    server.use(config.baseUrl.pathname, router);\n\n    // fallback to index for unknow pages?\n    router.use((0, _connectHistoryApiFallback2.default)({\n      // https://github.com/MoOx/phenomic/issues/808\n      disableDotRule: true\n    }));\n\n    // webpack static ressources\n    router.get(\"*\", _express2.default.static(webpackConfig.output.path));\n\n    // hardcoded entry point\n    router.get(\"/index.html\", function (req, res) {\n      var collectionMin = (0, _minify2.default)(_plugin2.default.collection);\n      res.setHeader(\"Content-Type\", \"text/html\");\n      /* eslint-disable max-len */\n      res.end(\"<!doctype html>\\n  <html>\\n  <head><meta charset=\\\"utf8\\\" /></head>\\n  <body>\\n    <div id=\\\"phenomic\\\">\\n      <div\\n        id=\\\"phenomic-DevLoader\\\"\\n        style=\\\"color: red; font: caption; font-size: 2rem; padding: 40vh 10vw; text-align: center;\\\"\\n      >\\n        <script>\\n        window.onerror = function(e) {\\n          var devLoader = document.querySelector(\\\"#phenomic-DevLoader\\\")\\n          if (devLoader) { devLoader.innerHTML = e.toString() }\\n          // only need to use this code once\\n          window.onerror = null\\n        }\\n        </script>\\n        <noscript>\" + devServerNoScript + \"</noscript>\\n      </div>\\n    </div>\\n    <script>\\n    window.__COLLECTION__ = \" + (0, _serialize2.default)(collectionMin) + \";\\n    </script>\\n    \" + entries.map(function (fileName) {\n        return \"<script src=\\\"\" + (0, _pathToUri2.default)(config.baseUrl.pathname, fileName) + \"\\\"></script>\";\n      }) + \"\\n  </body>\\n  </html>\"\n      /* eslint-enable max-len */\n      );\n    });\n  }\n\n  // THAT'S IT\n  var devHost = config.devHost,\n      devPort = config.devPort;\n\n\n  _portfinder2.default.basePort = devPort;\n\n  _portfinder2.default.getPort(function (err, port) {\n    if (err) {\n      throw err;\n    }\n\n    if (port !== devPort) {\n      (0, _log2.default)(\"Port \" + devPort + \" is not available. Using port \" + port + \" instead.\");\n    }\n\n    server.listen(port, devHost, function (err) {\n      if (err) {\n        throw err;\n      }\n      var href = \"http://\" + devHost + \":\" + port + config.baseUrl.pathname;\n      (0, _log2.default)(\"Development server listening on \" + href);\n\n      if (config.open) {\n        var openUrl = href.replace(devHost, \"localhost\");\n        if (process.platform === \"darwin\") {\n          try {\n            // Try our best to reuse existing tab\n            // on OS X Google Chrome with AppleScript\n            (0, _child_process.execSync)(\"ps cax | grep \\\"Google Chrome\\\"\");\n            (0, _child_process.execSync)(\"osascript openChrome.applescript \" + openUrl, { cwd: __dirname, stdio: \"ignore\" });\n            return true;\n          } catch (err) {\n            // Ignore errors.\n          }\n        }\n        // Fallback to opn\n        // (It will always open new tab)\n        (0, _opn2.default)(openUrl);\n      }\n    });\n  });\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/loader/plugin.js":"\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _fs = require(\"fs\");\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import { RawSource } from \"webpack-sources\"\n\n// Use the path of the plugin/loader directory to avoid conflicts on the\n// loaderContext\nvar NS = _fs2.default.realpathSync(__dirname);\n\nfunction PhenomicLoaderWebpackPlugin() {}\n\n// Phenomic collection cache: it avoid to have to re-read content files\n// between client and static build!\n// We can do without this (eg: emitting a json + read the json later),\n// but this will be an issue to consider for big websites.\nPhenomicLoaderWebpackPlugin.collection = [];\n\nPhenomicLoaderWebpackPlugin.prototype.apply = function (compiler) {\n  compiler.plugin(\"compilation\", function (compilation /* , params */) {\n    compilation.plugin(\"normal-module-loader\", function (loaderContext, module) {\n      loaderContext[NS] = function (loaderResult) {\n        return module.meta[NS] = loaderResult;\n      };\n    });\n\n    compilation.plugin(\"additional-assets\", function (callback) {\n      var results = compilation.modules.map(function (module) {\n        return module && module.meta && module.meta[NS];\n      }).filter(function (result) {\n        return result && (typeof result === \"undefined\" ? \"undefined\" : _typeof(result)) === \"object\";\n      });\n\n      PhenomicLoaderWebpackPlugin.collection = results;\n      // const collection = JSON.stringify(results, null, 2)\n      // compilation.assets[\"phenomic.collection.json\"] =\n      //   new RawSource(collection)\n\n      callback();\n    });\n  });\n};\n\nmodule.exports = PhenomicLoaderWebpackPlugin;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/loader/minify.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = function (collection) {\n  if (!Array.isArray(collection)) {\n    throw new Error(\"minify expect a valid collection instead of \" + (typeof collection === \"undefined\" ? \"undefined\" : _typeof(collection)));\n  }\n\n  return collection.map(function (item) {\n    return _extends({}, item.head, {\n      __filename: item.__filename,\n      __url: item.__url,\n      __resourceUrl: item.__resourceUrl,\n      __dataUrl: item.__dataUrl\n    });\n  });\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/serialize/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (value) {\n  return JSON.stringify(value).replace(/\\<\\/script>/g, \"<\\\\/script>\");\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/builder/webpack/log-formatter.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleInvalid = handleInvalid;\nexports.handleDone = handleDone;\n\nvar _chalk = require(\"chalk\");\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nvar _ora = require(\"ora\");\n\nvar _ora2 = _interopRequireDefault(_ora);\n\nvar _logSymbols = require(\"log-symbols\");\n\nvar _logSymbols2 = _interopRequireDefault(_logSymbols);\n\nvar _log = require(\"../../_utils/log\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar spinner = (0, _ora2.default)();\n\n// remove noize from messages\nvar betterMsg = function betterMsg(msg) {\n  return msg.replace(process.cwd(), \".\")\n\n  // Webpack \"Module not found\" noize\n  .replace(/Error: Cannot resolve 'file' or 'directory'/, \"\")\n\n  // loader path for css\n  .replace(/.\\/~\\/(css|postcss|sass|less|stylus)-loader(.*)!/g, \"\");\n};\n\nfunction handleInvalid() {\n  spinner.text = \"Updating\";\n  spinner.start();\n}\n\nvar isSyntaxError = function isSyntaxError(msg) {\n  return msg.includes(\"SyntaxError\");\n};\n\nfunction handleDone(webpackStats) {\n  spinner.stop();\n\n  var stats = webpackStats.toJson({}, true);\n  if (!webpackStats.hasErrors() && !webpackStats.hasWarnings()) {\n    spinner.stream.write(_logSymbols2.default.success + _chalk2.default.green(\" Updated \") + (\"(in \" + (0, _log.formatTime)(stats.time / 1000) + \")\"));\n    return;\n  }\n\n  if (stats.errors.length) {\n    spinner.text = _chalk2.default.red(\"Update failed\") + \"\\n\";\n    spinner.fail();\n    spinner = (0, _ora2.default)();\n\n    var errors = stats.errors.some(isSyntaxError)\n    // Show syntax error first\n    ? stats.errors.filter(isSyntaxError) : stats.errors;\n    errors.forEach(function (msg) {\n      return (0, _log.plainLog)(\"Error in \" + betterMsg(msg) + \"\\n\", \"error\");\n    });\n    return;\n  }\n\n  spinner.text = _chalk2.default.yellow(\"Updated with warnings\") + \"\\n\";\n  spinner.fail();\n  spinner = (0, _ora2.default)();\n  stats.warnings.forEach(function (msg) {\n    return (0, _log.plainLog)(\"Warning in \" + betterMsg(msg) + \" \\n\", \"warning\");\n  });\n}","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/client/hot-md.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _pages = require(\"../redux/modules/pages\");\n\nvar pageActions = _interopRequireWildcard(_pages);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nexports.default = function (mdContext, collection, store) {\n  return function (file) {\n    var item = collection.find(function (item) {\n      return item.__filename === file.slice(\"./\".length);\n    });\n    var dataUrl = mdContext(file);\n    if (dataUrl !== item.__dataUrl) {\n      item.__dataUrl = dataUrl;\n      console.log(file, \" hot update\");\n      store.dispatch(pageActions.refresh(item.__url, item.__dataUrl));\n    }\n  };\n}; // eslint-disable-next-line import/no-namespace","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/loader-feed-webpack-plugin/feed.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // @todo @ flow\n\nvar _url = require(\"url\");\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _rss = require(\"rss\");\n\nvar _rss2 = _interopRequireDefault(_rss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _feedOptions$options = _extends({\n    feedOptions: {}\n  }, options),\n      feedOptions = _feedOptions$options.feedOptions,\n      destination = _feedOptions$options.destination,\n      collection = _feedOptions$options.collection,\n      xmlOptions = _feedOptions$options.xmlOptions;\n\n  if (!feedOptions.site_url) {\n    throw new Error(\"feed site_url must be configured\");\n  }\n\n  if (feedOptions.feed_url == null) {\n    feedOptions.feed_url = _url2.default.resolve(feedOptions.site_url, destination);\n  }\n\n  var feed = new _rss2.default(feedOptions);\n  collection.forEach(function (item) {\n    feed.item(_extends({}, item, {\n      url: item.__url ? _url2.default.resolve(feedOptions.site_url, item.__url) : undefined\n\n    }));\n  });\n\n  return feed.xml(xmlOptions);\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/static/url-as-html.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function (url, options) {\n  var Html = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _Html2.default;\n  var baseUrl = options.baseUrl,\n      assetsFiles = options.assetsFiles,\n      routes = options.routes,\n      collection = options.collection,\n      metadata = options.metadata,\n      store = options.store;\n\n\n  var render = _server2.default[!options.clientScripts ? \"renderToStaticMarkup\" : \"renderToString\"];\n\n  return new Promise(function (resolve, reject) {\n    try {\n      (0, _reactRouter.match)({\n        routes: routes,\n        location: url,\n        basename: baseUrl.pathname\n      }, function (error, redirectLocation, renderProps) {\n        if (error) {\n          return reject(error);\n        } else if (redirectLocation) {\n          // TODO add a redirect page à la \"jekyll redirect plugin\"\n          throw new Error(\"phenomic (static) doesn't handle redirection yet\");\n        } else if (!renderProps) {\n          throw new Error(\"phenomic (static) doesn't handle page not found yet. \" + \"You are not supposed so see this message because this code is \" + \"not supposed to be executed the way thing are, so this can \" + \"be a react-router issue. Check out opened issue to find a \" + \"workaround: https://github.com/MoOx/phenomic/issues\");\n        }\n\n        var collectionMin = (0, _minify2.default)(collection);\n\n        /* eslint-disable react/no-multi-comp */\n\n        var renderBody = function renderBody() {\n          return render(_react2.default.createElement(\n            _ContextProvider2.default,\n            {\n              collection: collectionMin,\n              metadata: metadata\n            },\n            _react2.default.createElement(\n              _reactRedux.Provider,\n              { store: store },\n              _react2.default.createElement(_reactRouter.RouterContext, renderProps)\n            )\n          ));\n        };\n\n        var renderScript = function renderScript() {\n          if (options.clientScripts) {\n            var initialState = _extends({}, store.getState(), {\n              // only keep current page as others are not necessary\n              pages: _defineProperty({}, url, store.getState().pages[url])\n            });\n            var script = \"window.__COLLECTION__ = \" + (0, _serialize2.default)(collectionMin) + \";\" + (\"window.__INITIAL_STATE__ = \" + (0, _serialize2.default)(initialState));\n\n            return _react2.default.createElement(\"script\", { dangerouslySetInnerHTML: { __html: script } });\n          }\n\n          return null;\n        };\n\n        // write htmlString as html files\n        return resolve(\n        // render html document as simple html\n        \"<!doctype html>\" + _server2.default.renderToStaticMarkup(_react2.default.createElement(Html, _extends({}, assetsFiles && {\n          css: assetsFiles.css ? assetsFiles.css.map(function (fileName) {\n            return (0, _pathToUri2.default)(baseUrl.pathname, fileName);\n          }) : [],\n          js: options.clientScripts && assetsFiles.js ? assetsFiles.js.map(function (fileName) {\n            return (0, _pathToUri2.default)(baseUrl.pathname, fileName);\n          }) : []\n        }, {\n          renderBody: renderBody,\n          renderScript: renderScript\n        }))));\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _server = require(\"react-dom/server\");\n\nvar _server2 = _interopRequireDefault(_server);\n\nvar _reactRouter = require(\"react-router\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _Html = require(\"../components/Html\");\n\nvar _Html2 = _interopRequireDefault(_Html);\n\nvar _pathToUri = require(\"../_utils/path-to-uri\");\n\nvar _pathToUri2 = _interopRequireDefault(_pathToUri);\n\nvar _ContextProvider = require(\"../components/ContextProvider\");\n\nvar _ContextProvider2 = _interopRequireDefault(_ContextProvider);\n\nvar _serialize = require(\"../_utils/serialize\");\n\nvar _serialize2 = _interopRequireDefault(_serialize);\n\nvar _minify = require(\"../loader/minify\");\n\nvar _minify2 = _interopRequireDefault(_minify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/components/Html/index.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _server = require(\"react-dom/server\");\n\nvar _reactHelmet = require(\"react-helmet\");\n\nvar _reactHelmet2 = _interopRequireDefault(_reactHelmet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Html = function Html(props) {\n\n  // Glamor integration\n  // https://github.com/threepointone/glamor/blob/master/docs/server.md\n  var glamorRenderStatic = void 0;\n  try {\n    // $FlowFixMe just ignore glamor as we don't have it as a dep\n    glamorRenderStatic = require(\"glamor/server\").renderStatic;\n  } catch (e) {}\n  // skip glamor if not working\n\n\n  // Aprodite\n  // https://github.com/Khan/aphrodite#server-side-rendering\n  var aproditeRenderStatic = void 0;\n  try {\n    // $FlowFixMe just ignore aprodite as we don't have it as a dep\n    aproditeRenderStatic = require(\"aphrodite\").StyleSheetServer.renderStatic;\n  } catch (e) {}\n  // skip aprodite if not working\n\n\n  // render body\n  var body = void 0;\n  if (glamorRenderStatic) {\n    var glamorResult = glamorRenderStatic(function () {\n      return props.renderBody();\n    });\n\n    (0, _server.renderToString)(_react2.default.createElement(_reactHelmet2.default, {\n      style: [{ \"cssText\": glamorResult.css }],\n      script: [{ \"innerHTML\": \"window._glamor = \" + JSON.stringify(glamorResult.ids) }]\n    }));\n    body = glamorResult.html;\n  } else if (aproditeRenderStatic) {\n    var aproditeResult = aproditeRenderStatic(function () {\n      return props.renderBody();\n    });\n\n    (0, _server.renderToString)(_react2.default.createElement(_reactHelmet2.default, {\n      style: [{\n        \"cssText\": aproditeResult.css.content,\n        \"data-aphrodite\": undefined\n      }],\n      script: [{ \"innerHTML\": \"window._aphrodite = \" + JSON.stringify(aproditeResult.css.renderedClassNames) + \";\" }]\n    }));\n    body = aproditeResult.html;\n  }\n\n  body = body || props.renderBody();\n\n  // rewind html metas\n  var head = _reactHelmet2.default.rewind();\n\n  // <!doctype html> is automatically prepended\n  return _react2.default.createElement(\n    \"html\",\n    _extends({\n      lang: \"en\"\n    }, head.htmlAttributes.toComponent()),\n    _react2.default.createElement(\n      \"head\",\n      null,\n      head.base.toComponent(),\n      head.title.toComponent(),\n      _react2.default.createElement(\"meta\", { charSet: \"utf-8\" }),\n      _react2.default.createElement(\"meta\", { httpEquiv: \"X-UA-Compatible\", content: \"IE=edge\" }),\n      _react2.default.createElement(\"meta\", { name: \"viewport\", content: \"width=device-width, initial-scale=1\" }),\n      head.meta.toComponent(),\n      head.style.toComponent(),\n      head.link.toComponent(),\n      props.css.map(function (file, i) {\n        return _react2.default.createElement(\"link\", { key: \"phenomic.css.\" + i, rel: \"stylesheet\", href: file });\n      }),\n      head.script.toComponent()\n    ),\n    _react2.default.createElement(\n      \"body\",\n      null,\n      _react2.default.createElement(\"div\", { id: \"phenomic\", dangerouslySetInnerHTML: { __html: body } }),\n      props.renderScript(),\n      props.js.map(function (file, i) {\n        return _react2.default.createElement(\"script\", { key: \"phenomic.js.\" + i, src: file });\n      })\n    )\n  );\n};\n\nHtml.propTypes = {\n  css: require(\"react\").PropTypes.arrayOf(require(\"react\").PropTypes.string).isRequired,\n  js: require(\"react\").PropTypes.arrayOf(require(\"react\").PropTypes.string).isRequired,\n  renderBody: require(\"react\").PropTypes.func.isRequired,\n  renderScript: require(\"react\").PropTypes.func.isRequired\n};\nexports.default = Html;","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/themes/phenomic-theme-base/postcss.config.js":"module.exports = (config) => [\n    require(\"stylelint\")(),\n    require(\"postcss-cssnext\")({\n      browsers: \"last 2 versions\",\n      features: {\n        customProperties: {\n          variables: {\n            maxWidth: \"60rem\",\n            colorPrimaryDark: \"#107491\",\n            colorPrimary: \"#007acc\",\n            colorSecondaryDark: \"#22846C\",\n            colorSecondary: \"#46BE77\",\n            colorNeutralDark: \"#111\",\n            colorNeutral: \"#8C8D91\",\n            colorNeutralLight: \"#FBFCFC\",\n            colorText: \"#555\",\n          },\n        },\n      },\n    }),\n    require(\"postcss-reporter\")(),\n    ...!config.production ? [\n      require(\"postcss-browser-reporter\")(),\n    ] : [],\n  ]\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/themes/phenomic-theme-base/webpack.config.js":"import path from \"path\"\n\nimport webpack from \"webpack\"\nimport ExtractTextPlugin from \"extract-text-webpack-plugin\"\nimport { phenomicLoader } from \"phenomic\"\nimport PhenomicLoaderFeedWebpackPlugin\n  from \"phenomic/lib/loader-feed-webpack-plugin\"\nimport PhenomicLoaderSitemapWebpackPlugin\n  from \"phenomic/lib/loader-sitemap-webpack-plugin\"\n\nimport pkg from \"./package.json\"\n\nexport default (config = {}) => {\n\n  // hot loading for postcss config\n  // until this is officially supported\n  // https://github.com/postcss/postcss-loader/issues/66\n  const postcssPluginFile = require.resolve(\"./postcss.config.js\")\n  const postcssPlugins = (webpackInstance) => {\n    webpackInstance.addDependency(postcssPluginFile)\n    delete require.cache[postcssPluginFile]\n    return require(postcssPluginFile)(config)\n  }\n\n  return {\n    ...config.dev && {\n      devtool: \"#cheap-module-eval-source-map\",\n    },\n    module: {\n      noParse: /\\.min\\.js/,\n      rules: [\n        // *.md => consumed via phenomic special webpack loader\n        // allow to generate collection and rss feed.\n        {\n          // phenomic requirement\n          test: /\\.(md|markdown)$/,\n          loader: phenomicLoader,\n          query: {\n            context: path.join(__dirname, config.source),\n            // plugins: [\n            //   ...require(\"phenomic/lib/loader-preset-markdown\").default\n            // ]\n            // see https://phenomic.io/docs/usage/plugins/\n          },\n        },\n\n        // *.js => babel + eslint\n        {\n          test: /\\.js$/,\n          include: [\n            path.resolve(__dirname, \"scripts\"),\n            path.resolve(__dirname, \"src\"),\n          ],\n          loaders: [\n            \"babel-loader?cacheDirectory\",\n            \"eslint-loader\" + (config.dev ? \"?emitWarning\" : \"\"),\n          ],\n        },\n\n        // ! \\\\\n        // by default *.css files are considered as CSS Modules\n        // And *.global.css are considered as global (normal) CSS\n\n        // *.css => CSS Modules\n        {\n          test: /\\.css$/,\n          exclude: /\\.global\\.css$/,\n          include: path.resolve(__dirname, \"src\"),\n          loader: ExtractTextPlugin.extract({\n            fallback: \"style-loader\",\n            use: [\n              {\n                loader: \"css-loader\",\n                query: {\n                  modules: true,\n                  localIdentName: (\n                    config.production\n                    ? \"[hash:base64:5]\"\n                    : \"[path][name]--[local]--[hash:base64:5]\"\n                  ),\n                },\n              },\n              {\n                loader: \"postcss-loader\",\n                // query for postcss can't be used right now\n                // https://github.com/postcss/postcss-loader/issues/99\n                // meanwhile, see webpack.LoaderOptionsPlugin in plugins list\n                // query: { plugins: postcssPlugins },\n              },\n            ],\n          }),\n        },\n        // *.global.css => global (normal) css\n        {\n          test: /\\.global\\.css$/,\n          include: path.resolve(__dirname, \"src\"),\n          loader: ExtractTextPlugin.extract({\n            fallback: \"style-loader\",\n            use: [\n              \"css-loader\",\n              {\n                loader: \"postcss-loader\",\n                // query for postcss can't be used right now\n                // https://github.com/postcss/postcss-loader/issues/99\n                // meanwhile, see webpack.LoaderOptionsPlugin in plugins list\n                // query: { plugins: postcssPlugins },\n              },\n            ],\n          }),\n        },\n        // ! \\\\\n        // If you want global CSS only, just remove the 2 sections above\n        // and use the following one\n        // ! \\\\ If you want global CSS for node_modules only, just uncomment\n        // this section and the `include` part\n        /*\n        {\n          test: /\\.css$/,\n          // depending on your need, you might need to scope node_modules\n          // for global CSS if you want to keep CSS Modules by default\n          // for your own CSS. If so, uncomment the line below\n          // include: path.resolve(__dirname, \"node_modules\"),\n          loader: ExtractTextPlugin.extract({\n            fallback: \"style-loader\",\n            use: [\n              \"css-loader\",\n              {\n                loader: \"postcss-loader\",\n                query: { \"plugins\": postcssPlugins },\n              },\n            ]\n          }),\n        },\n        */\n        // ! \\\\ if you want to use Sass or LESS, you can add sass-loader or\n        // less-loader after postcss-loader (or replacing it).\n        // ! \\\\ You will also need to adjust the file extension\n        // and to run the following command\n        //\n        // Sass: `npm install --save-dev node-sass sass-loader`\n        // https://github.com/jtangelder/sass-loader\n        //\n        // LESS: npm install --save-dev less less-loader\n        // https://github.com/webpack/less-loader\n\n        // copy assets and return generated path in js\n        {\n          test: /\\.(html|ico|jpe?g|png|gif|eot|otf|webp|ttf|woff|woff2)$/,\n          loader: \"file-loader\",\n          query: {\n            name: \"[path][name].[hash].[ext]\",\n            context: path.join(__dirname, config.source),\n          },\n        },\n\n        // svg as raw string to be inlined\n        {\n          test: /\\.svg$/,\n          loader: \"raw-loader\",\n\n        },\n      ],\n    },\n\n    plugins: [\n      // You should be able to remove the block below when the following\n      // issue has been correctly handled (and postcss-loader supports\n      // \"plugins\" option directly in query, see postcss-loader usage above)\n      // https://github.com/postcss/postcss-loader/issues/99\n      new webpack.LoaderOptionsPlugin({\n        test: /\\.css$/,\n        options: {\n          postcss: postcssPlugins,\n          // required to avoid issue css-loader?modules\n          // this is normally the default value, but when we use\n          // LoaderOptionsPlugin, we must specify it again, otherwise,\n          // context is missing (and css modules names can be broken)!\n          context: __dirname,\n        },\n      }),\n\n      new PhenomicLoaderFeedWebpackPlugin({\n        // here you define generic metadata for your feed\n        feedsOptions: {\n          title: pkg.name,\n          site_url: pkg.homepage,\n        },\n        feeds: {\n          // here we define one feed, but you can generate multiple, based\n          // on different filters\n          \"feed.xml\": {\n            collectionOptions: {\n              filter: { layout: \"Post\" },\n              sort: \"date\",\n              reverse: true,\n              limit: 20,\n            },\n          },\n        },\n      }),\n\n      new PhenomicLoaderSitemapWebpackPlugin({\n        site_url: pkg.homepage,\n      }),\n\n      new ExtractTextPlugin({\n        filename: \"[name].[hash].css\",\n        disable: config.dev,\n      }),\n\n      ...config.production && [\n        new webpack.optimize.UglifyJsPlugin(\n          { compress: { warnings: false } }\n        ),\n      ],\n    ],\n\n    output: {\n      path: path.join(__dirname, config.destination),\n      publicPath: config.baseUrl.pathname,\n      filename: \"[name].[hash].js\",\n    },\n\n    resolve: { extensions: [ \".js\", \".json\" ] },\n  }\n}\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/builder/webpack/config.browser.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n// module.exports is used\n// eslint-disable-next-line import/default\n\n\nvar _path = require(\"path\");\n\nvar _webpack = require(\"../../_utils/offline/webpack.js\");\n\nvar _plugin = require(\"../../loader/plugin.js\");\n\nvar _plugin2 = _interopRequireDefault(_plugin);\n\nvar _configCommon = require(\"./config.common.js\");\n\nvar _configCommon2 = _interopRequireDefault(_configCommon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar chunkNameBrowser = \"phenomic.browser\";\n\nexports.default = function (config) {\n\n  var webpackConfig = (0, _configCommon2.default)(config);\n\n  return _extends({}, webpackConfig, {\n    plugins: [new _plugin2.default()].concat(_toConsumableArray(webpackConfig.plugins), _toConsumableArray((0, _webpack.offlinePlugin)(config))),\n\n    entry: _extends({}, config.webpackConfig ? config.webpackConfig.entry : {}, _defineProperty({}, chunkNameBrowser, [(0, _path.join)(config.cwd, config.scriptBrowser)].concat(_toConsumableArray((0, _webpack.offlineEntry)(config)))))\n  });\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/offline/webpack.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.offlineEntry = exports.offlinePlugin = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _path = require(\"path\");\n\nvar _globby = require(\"globby\");\n\nvar _offlinePlugin = require(\"offline-plugin\");\n\nvar _offlinePlugin2 = _interopRequireDefault(_offlinePlugin);\n\nvar _urlJoin = require(\"url-join\");\n\nvar _urlJoin2 = _interopRequireDefault(_urlJoin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar runtimeEntry = (0, _path.resolve)(__dirname, \"runtime.js\");\n\nvar offlinePlugin = exports.offlinePlugin = function offlinePlugin(config) {\n  if (!config.offline) {\n    return [];\n  }\n  var assets = [];\n\n  if (_typeof(config.assets) === \"object\") {\n    var configAssets = config.assets;\n\n    assets = (0, _globby.sync)([\"**/*\"], {\n      cwd: configAssets.path,\n      nodir: true\n    }).map(function (asset) {\n      return (0, _urlJoin2.default)(configAssets.route, asset);\n    });\n  }\n\n  function preparePatterns(patterns) {\n    if (!patterns) {\n      return [];\n    }\n\n    return patterns.reduce(function (acc, pattern) {\n      return pattern === \":assets:\" ? [].concat(_toConsumableArray(acc), _toConsumableArray(assets)) : [].concat(_toConsumableArray(acc), [pattern]);\n    }, []);\n  }\n\n  return [new _offlinePlugin2.default({\n    publicPath: config.baseUrl.pathname,\n    relativePaths: false,\n    responseStrategy: \"network-first\",\n\n    // Use this option to explicitely cache files not generated by webpack\n    externals: [\"/\"].concat(_toConsumableArray(assets)),\n\n    // every webpack generated assets have hashes, so we can safely\n    // inform OfflinePlugin about that\n    safeToUseOptionalCaches: true,\n\n    caches: {\n      // `main` files will be loaded during SW install\n      main: preparePatterns(config.offlineConfig.cachePatterns.onInstall),\n\n      // `additional` files are loaded after main section\n      // and do not prevent SW to install.\n      additional: preparePatterns(config.offlineConfig.cachePatterns.afterInstall),\n\n      // `optional` files will be cached only when requested\n      optional: preparePatterns(config.offlineConfig.cachePatterns.onDemand)\n    },\n    // for more advanced usage, see documentation of the plugin\n    // https://github.com/NekR/offline-plugin/blob/master/docs/caches.md\n\n    excludes: config.offlineConfig.cachePatterns.excludes,\n\n    ServiceWorker: {\n      events: true,\n      navigateFallbackURL: \"/\"\n    },\n\n    // Appcache Fallback for browser that does not support Service Worker\n    // (eg: Safari, IE, Edge...)\n    AppCache: {\n      events: true,\n      FALLBACK: {\n        \"/\": \"/index.html\"\n      }\n    }\n\n  })];\n};\n\nvar offlineEntry = exports.offlineEntry = function offlineEntry(config) {\n  if (!config.offline) {\n    return [];\n  }\n\n  return [runtimeEntry];\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/builder/webpack/config.common.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.chunkNameBrowser = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _url = require(\"url\");\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _webpack = require(\"webpack\");\n\nvar _package = require(\"../../../package.json\");\n\nvar _package2 = _interopRequireDefault(_package);\n\nvar _webpack2 = require(\"../../_utils/cache/webpack.js\");\n\nvar _webpack3 = _interopRequireDefault(_webpack2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar chunkNameBrowser = exports.chunkNameBrowser = \"phenomic.browser\";\n\nvar wrap = JSON.stringify;\n\nexports.default = function (config) {\n  var _config$webpackConfig = config.webpackConfig,\n      webpackConfig = _config$webpackConfig === undefined ? {} : _config$webpackConfig;\n\n\n  return _extends({}, webpackConfig, {\n    plugins: [].concat(_toConsumableArray(webpackConfig.plugins ? webpackConfig.plugins : []), _toConsumableArray((0, _webpack3.default)(config)), [new _webpack.DefinePlugin({ \"process.env\": {\n        NODE_ENV: wrap(config.production ? \"production\" : process.env.NODE_ENV),\n\n        PHENOMIC_USER_PATHNAME: wrap(process.env.PHENOMIC_USER_PATHNAME),\n        PHENOMIC_USER_URL: wrap(_url2.default.format(config.baseUrl)),\n        PHENOMIC_NAME: wrap(_package2.default.name[0].toUpperCase() + _package2.default.name.slice(1)),\n        PHENOMIC_VERSION: wrap(_package2.default.version),\n        PHENOMIC_HOMEPAGE: wrap(_package2.default.homepage),\n        PHENOMIC_REPOSITORY: wrap(_package2.default.repository)\n      } })])\n  });\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/cache/webpack.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _path = require(\"path\");\n\nvar _hardSourceWebpackPlugin = require(\"hard-source-webpack-plugin\");\n\nvar _hardSourceWebpackPlugin2 = _interopRequireDefault(_hardSourceWebpackPlugin);\n\nvar _nodeObjectHash = require(\"node-object-hash\");\n\nvar _nodeObjectHash2 = _interopRequireDefault(_nodeObjectHash);\n\nvar _findCacheDir = require(\"find-cache-dir\");\n\nvar _findCacheDir2 = _interopRequireDefault(_findCacheDir);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (config) {\n  if (!config.cache) {\n    return [];\n  }\n\n  var cacheDir = (0, _findCacheDir2.default)({\n    name: \"phenomic/webpack-hard-source-cache/[confighash]/\"\n  });\n\n  return [new _hardSourceWebpackPlugin2.default({\n    cacheDirectory: (0, _path.join)(cacheDir),\n    recordsPath: (0, _path.join)(cacheDir, \"records.json\"),\n    configHash: function configHash(config) {\n      return new _nodeObjectHash2.default().hash(config);\n    },\n    environmentPaths: {\n      root: config.cwd,\n      files: [\"package.json\", \"webpack.config.js\"]\n    }\n  })];\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/builder/webpack/config.node.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cacheDir = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _path = require(\"path\");\n\nvar _webpack = require(\"webpack\");\n\nvar _findCacheDir = require(\"find-cache-dir\");\n\nvar _findCacheDir2 = _interopRequireDefault(_findCacheDir);\n\nvar _configCommon = require(\"./config.common.js\");\n\nvar _configCommon2 = _interopRequireDefault(_configCommon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar UglifyJsPlugin = _webpack.optimize.UglifyJsPlugin;\n\nvar chunkNameNode = \"phenomic.node\";\nvar cacheDir = exports.cacheDir = (0, _findCacheDir2.default)({ name: \"phenomic/webpack-node-build\" });\n\nvar defaultExternals = [\n// we could consider node_modules as externals deps\n// and so use something like\n// /^[A-Za-z0-9-_]/\n// to not bundle all deps in the static build (for perf)\n// the problem is that if people rely on node_modules for stuff\n// like css, this breaks their build.\n\n// Glamor integration\n\"glamor\", \"glamor/server\",\n\n// Aprodite integration\n\"aphrodite\"];\n\nvar sourceMapSupport = require.resolve(\"source-map-support/register\")\n// windows support\n.replace(/\\\\/g, \"/\");\n\nvar requireSourceMapSupport = \"require('\" + sourceMapSupport + \"');\";\n\nexports.default = function (config) {\n  var webpackConfig = (0, _configCommon2.default)(config);\n\n  return _extends({}, webpackConfig, {\n\n    entry: _defineProperty({}, chunkNameNode, (0, _path.join)(config.cwd, config.scriptNode)),\n\n    output: _extends({}, webpackConfig.output, {\n      path: cacheDir,\n      libraryTarget: \"commonjs2\",\n      filename: (0, _path.basename)(config.scriptNode, \".js\") + \".bundle.js\"\n    }),\n\n    target: \"node\",\n\n    // externals for package/relative name\n    externals: [].concat(_toConsumableArray(webpackConfig.externals || defaultExternals), [\n\n    // keep the loader plugin cache in memory\n    \"phenomic/lib/loader/index\", \"phenomic/lib/loader/plugin\"]),\n\n    // sourcemaps\n    devtool: \"#source-map\",\n    plugins: [].concat(_toConsumableArray(webpackConfig.plugins.filter(function (plugin) {\n      return !(plugin instanceof UglifyJsPlugin);\n    }) || []), [new _webpack.BannerPlugin({\n      banner: requireSourceMapSupport,\n      raw: true,\n      entryOnly: false\n    })])\n  });\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/builder/webpack/sortAssets.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (assets) {\n  var assetsFiles = { css: [], js: [] };\n\n  Object.keys(assets).reduce(function (result, key) {\n    var chunkAssets = assets[key];\n    return result.concat(chunkAssets);\n  }, []).sort(function (a, b) {\n    return a.toLowerCase() > b.toLowerCase() ? 1 : -1;\n  }).forEach(function (name) {\n    if (name.endsWith(\".js\")) {\n      assetsFiles.js.push(name);\n    } else if (name.endsWith(\".css\")) {\n      assetsFiles.css.push(name);\n    }\n  });\n\n  return assetsFiles;\n};","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/redux/middlewares/promise.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.default = promiseMiddleware;\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction promiseMiddleware() {\n  return function (next) {\n    return function (action) {\n      var promise = action.promise,\n          types = action.types,\n          rest = _objectWithoutProperties(action, [\"promise\", \"types\"]);\n\n      if (!promise) {\n        return next(action);\n      } else if (!promise.then) {\n        throw new Error(\"promiseMiddleware expects a promise object that implements then()\");\n      }\n\n      var _types = _slicedToArray(types, 3),\n          REQUEST = _types[0],\n          SUCCESS = _types[1],\n          FAILURE = _types[2];\n\n      next(_extends({}, rest, { type: REQUEST }));\n      return promise.then(function (response) {\n        return next(_extends({}, rest, { response: response, type: SUCCESS }));\n      }, function (response) {\n        return next(_extends({}, rest, { response: response, type: FAILURE }));\n      });\n    };\n  };\n}","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/lib/_utils/offline/runtime.js":"\"use strict\";\n\nvar _runtime = require(\"offline-plugin/runtime\");\n\nvar _runtime2 = _interopRequireDefault(_runtime);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconsole.log(\"SW Event:\", \"Installing\");\n\n// Install ServiceWorker and AppCache in the end since it's not most important\n// operation and if main code fails, we do not want it installed\n\n_runtime2.default.install({\n  // you can specify here some code to respond to events\n  // see here for more informations\n  // https://www.npmjs.com/package/offline-plugin#runtime\n  onInstalled: function onInstalled() {\n    console.log(\"SW Event:\", \"onInstalled\");\n  },\n  onUpdating: function onUpdating() {\n    console.log(\"SW Event:\", \"onUpdating\");\n  },\n  onUpdateReady: function onUpdateReady() {\n    console.log(\"SW Event:\", \"onUpdateReady\");\n    _runtime2.default.applyUpdate();\n  },\n  onUpdated: function onUpdated() {\n    console.log(\"SW Event:\", \"onUpdated\");\n    window.location.reload();\n  },\n  onUninstalled: function onUninstalled() {\n    console.log(\"SW Event:\", \"onUninstalled\");\n  }\n});\n// See webpack configuration file for more offline options","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/src/_utils/offline/runtime.js":"// @flow\n\n// Install ServiceWorker and AppCache in the end since it's not most important\n// operation and if main code fails, we do not want it installed\nimport offlinePluginRuntime from \"offline-plugin/runtime\"\n\nconsole.log(\"SW Event:\", \"Installing\")\nofflinePluginRuntime.install({\n  // you can specify here some code to respond to events\n  // see here for more informations\n  // https://www.npmjs.com/package/offline-plugin#runtime\n  onInstalled: () => {\n    console.log(\"SW Event:\", \"onInstalled\")\n  },\n  onUpdating: () => {\n    console.log(\"SW Event:\", \"onUpdating\")\n  },\n  onUpdateReady: () => {\n    console.log(\"SW Event:\", \"onUpdateReady\")\n    offlinePluginRuntime.applyUpdate()\n  },\n  onUpdated: () => {\n    console.log(\"SW Event:\", \"onUpdated\")\n    window.location.reload()\n  },\n  onUninstalled: () => {\n    console.log(\"SW Event:\", \"onUninstalled\")\n  },\n})\n// See webpack configuration file for more offline options\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/themes/phenomic-theme-base/scripts/phenomic.browser.js":"// Hot loading HRM Patch\nimport \"react-hot-loader/patch\"\n// fetch polyfill\nimport \"whatwg-fetch\"\nimport phenomicClient from \"phenomic/lib/client\"\n\nimport metadata from \"../src/metadata.js\"\nimport routes from \"../src/routes.js\"\nimport store from \"../src/store.js\"\n\nphenomicClient({ metadata, routes, store })\n\n// md files processed via phenomic-loader to JSON & generate collection\nlet mdContext = require.context(\"../content\", true, /\\.(md|markdown)$/)\nmdContext.keys().forEach(mdContext)\n\n// hot loading\nif (module.hot) {\n\n  // hot load md\n  module.hot.accept(mdContext.id, () => {\n    mdContext = require.context(\"../content\", true, /\\.(md|markdown)$/)\n    const mdHotUpdater = require(\"phenomic/lib/client/hot-md\").default\n    const requireUpdate = mdHotUpdater(mdContext, window.__COLLECTION__, store)\n    mdContext.keys().forEach(requireUpdate)\n  })\n\n  // hot load app\n  module.hot.accept(\n    [ \"../src/metadata.js\", \"../src/routes.js\", \"../src/store.js\" ],\n    () => phenomicClient({ metadata, routes, store })\n  )\n}\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/themes/phenomic-theme-base/scripts/phenomic.node.js":"import phenomicStatic from \"phenomic/lib/static\"\n\nimport metadata from \"../src/metadata.js\"\nimport routes from \"../src/routes.js\"\nimport store from \"../src/store.js\"\n\nexport default (options) =>\n  phenomicStatic({ ...options, metadata, routes, store })\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/themes/phenomic-theme-base/src/AppContainer.js":"import React, { PropTypes } from \"react\"\n\nimport \"./index.global.css\"\nimport \"./highlight.global.css\"\n\nimport Container from \"./components/Container\"\nimport DefaultHeadMeta from \"./components/DefaultHeadMeta\"\nimport Header from \"./components/Header\"\nimport Content from \"./components/Content\"\nimport Footer from \"./components/Footer\"\n\nconst AppContainer = (props) => (\n  <Container>\n    <DefaultHeadMeta />\n    <Header />\n    <Content>\n      { props.children }\n    </Content>\n    <Footer />\n  </Container>\n)\n\nAppContainer.propTypes = {\n  children: PropTypes.node,\n}\n\nexport default AppContainer\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/themes/phenomic-theme-base/src/metadata.js":"// you can add any STATIC data you want here\nimport pkg from \"../package.json\"\n\nexport default {\n  pkg,\n  // you can add any DYNAMIC data you need here\n  // ...\n}\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/themes/phenomic-theme-base/src/routes.js":"import React from \"react\"\nimport { Route } from \"react-router\"\nimport { PageContainer as PhenomicPageContainer } from \"phenomic\"\n\nimport AppContainer from \"./AppContainer\"\nimport Page from \"./layouts/Page\"\nimport PageError from \"./layouts/PageError\"\nimport Homepage from \"./layouts/Homepage\"\nimport Post from \"./layouts/Post\"\n\nconst PageContainer = (props) => (\n  <PhenomicPageContainer\n    { ...props }\n    layouts={{\n      Page,\n      PageError,\n      Homepage,\n      Post,\n    }}\n  />\n)\n\nexport default (\n  <Route component={ AppContainer }>\n    <Route path=\"*\" component={ PageContainer } />\n  </Route>\n)\n","/home/travis/build/npmtest/node-npmtest-phenomic/node_modules/phenomic/themes/phenomic-theme-base/src/store.js":"import { combineReducers } from \"redux\"\nimport createStore from \"phenomic/lib/redux/createStore\"\n// eslint-disable-next-line import/no-namespace\nimport * as phenomicReducers from \"phenomic/lib/redux/modules\"\n\nconst store = createStore(\n  combineReducers(phenomicReducers),\n  { ...(typeof window !== \"undefined\") && window.__INITIAL_STATE__ },\n)\n\nexport default store\n"}